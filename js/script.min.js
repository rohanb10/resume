var PHOTOS=[{index:0,bg:"#89979A",caption:"Kangchendzonga National Park, Sikkim, India"},{index:1,bg:"#6D86B8",caption:"Half Dome from Glacier Point, Yosemite National Park, California"},{index:2,bg:"#82B0D8",caption:"Blue Lake, John Muir Wilderness, Inyo National Forest, California"},{index:3,bg:"#B36F3C",caption:"Emerald Lake, Lakes Trail, Kings Canyon National Park, California"},{index:4,bg:"#2F343B",caption:"Horsetooth Mountain, Fort Collins, Colorado"},{index:5,bg:"#B8C9CC",caption:"Dolores Park, Mission, San Francisco, California"},{index:6,bg:"#8B6151",caption:"Kaibab National Forest, Grand Canyon, Arizona"},{index:7,bg:"#6C7971",caption:"Perugia, Cambria, Italy"},{index:8,bg:"#B26542",caption:"Alghero, Sardinia, Italy"},{index:9,bg:"#5E6C3C",caption:"Rifugio Menaggio, Lake Como, Italy"},{index:10,bg:"#5575C0",caption:"Puez-Geisler National Park, South Tyrol, Italy"},{index:11,bg:"#486BA1",caption:"Peak of Monte Grona, Lake Como, Italy"},{index:12,bg:"#7082A2",caption:"Puez-Geisler National Park, South Tyrol, Italy"},{index:13,bg:"#ADB9D1",caption:"Vembanad Lake, Cochin, Kerala, India"},{index:14,bg:"#6A723E",caption:"Angel Island State Park, San Francisco Bay, California"},{index:15,bg:"#8A7C4C",caption:"Soberanes Point, Carmel, Monterey, California"},{index:16,bg:"#EC965C",caption:"West Point Lighthouse, Discovery Park, Seattle, Washington"},{index:17,bg:"#D6D3CE",caption:"Wallace Falls State Park, Snohomish County, Washington"},{index:18,bg:"#9C7E52",caption:"Laguna Creek Beach, Santa Cruz, California"},{index:19,bg:"#CBAC86",caption:"Tent Rocks National Monument, Sandoval County, New Mexico"},{index:20,bg:"#454934",caption:"Gennargentu National Park, Cala Ganone, Sardinia, Italy"},{index:21,bg:"#94ABBD",caption:"McLaren Park, San Francisco, California"},{index:22,bg:"#2F3411",caption:"Angel Island State Park, San Francisco Bay, California"},{index:23,bg:"#A73E28",caption:"Prewitt Ridge, Big Sur, California"},{index:24,bg:"#536C8B",caption:"Yosemite Falls Trail, Yosemite National Park, California"},{index:25,bg:"#808B63",caption:"Kangchendzonga National Park, Sikkim, India"},{index:26,bg:"#546420",caption:"Briones Regional Park, Lafayette, California"},{index:27,bg:"#D8DEE0",caption:"Mendocino Headlands State Park, Mendocino, California"},{index:28,bg:"#709BC3",caption:"Four Mile Trail, Yosemite National Park, California"},{index:29,bg:"#E9906E",caption:"Shilshole Bay, Ballard, Seattle, Washington"}];const thumbs=document.querySelector(".thumbnails");const modal=document.querySelector(".photo-modal");function genThumbnails(){const e=2500;if(thumbs.innerHTML!==""){var t=shuffleArray(Array.from(thumbs.querySelectorAll(".thumb-container")));thumbs.innerHTML="";t.forEach((t,a)=>{t.className=`thumb-container fade-in delay-${a<18?e+parseInt(a*100):0}`;thumbs.appendChild(t)});return}PHOTOS=shuffleArray(PHOTOS);PHOTOS.forEach((t,a)=>{var n=Object.assign(document.createElement("div"),{className:`thumb-container fade-in delay-${a<18?e+parseInt(a*100):0}`,onclick:e=>openPhotoModal(t.index)});n.setAttribute("data-photo-id",t.index);var o=Object.assign(document.createElement("img"),{className:"placeholder",src:`/assets/photos/thumb/placeholder/${t.index}.svg`,style:`background-color: ${t.bg}`});n.appendChild(o);var i=Object.assign(document.createElement("img"),{className:"thumb",src:`/assets/photos/thumb/${t.index}.jpg`});n.appendChild(i);thumbs.appendChild(n)});setTimeout(e=>{thumbs.querySelectorAll(".thumb-container").forEach(e=>{var t=e.querySelector(".placeholder");var a=e.querySelector(".thumb");var n=e=>{setTimeout(e=>{t.style.opacity=0;a.style.filter="blur(0px)"},1e3);setTimeout(e=>t.style.display="none",1500)};if(a.complete){n()}else{a.onload=(e=>n)}})},e+1e3)}function openPhotoModal(e,t=true){loadPhoto(e);animateIn(".photo-modal","slide-in-up",null,500);document.addEventListener("keydown",function e(t){if(active_photo===-1)return;if(t.keyCode===39)nextPhoto();if(t.keyCode===37)prevPhoto();if(t.keyCode===27){closePhotoModal();document.removeEventListener("keydown",e)}});if(t)trackEvent("Photo modal opened",window.location.pathname,identifyPhoto(PHOTOS[e]),e)}function closePhotoModal(){modal.classList.remove("loaded");animateOut(".photo-modal","slide-out-bottom",e=>{modal.querySelector(".photo-container").style.backgroundImage="";modal.querySelector(".caption").innerHTML="";startLoadingAnimation()});history.pushState("","",window.location.pathname);trackEvent("Photo modal closed",window.location.pathname);active_photo=-1}function nextPhoto(){if(active_photo+1>=PHOTOS.length||!modal.querySelector(".bar:last-of-type").classList.contains("done"))return;startLoadingAnimation();loadPhoto(PHOTOS[++active_photo].index,500);trackEvent("Next Photo",window.location.pathname,identifyPhoto(PHOTOS[active_photo]),active_photo)}function prevPhoto(){if(active_photo<=0||!modal.querySelector(".bar:last-of-type").classList.contains("done"))return;startLoadingAnimation();loadPhoto(PHOTOS[--active_photo].index,500);trackEvent("Prev Photo",window.location.pathname,identifyPhoto(PHOTOS[active_photo]),active_photo)}function loadPhoto(e,t=0){Object.assign(document.createElement("img"),{src:`/assets/photos/${e}.jpg`,onload:a=>{setTimeout(t=>{modal.querySelector(".photo-container").style.backgroundImage=`url('/assets/photos/${e}.jpg')`;endLoadingAnimation()},t)},onerror:endLoadingAnimation});history.pushState("","",`${window.location.pathname}?${e}`);modal.querySelector(".caption").innerHTML=formatCaptions(PHOTOS.find(t=>t.index===e).caption);active_photo=PHOTOS.findIndex(t=>t.index===e);modal.querySelector(".modal-next-btn").classList.toggle("disabled",active_photo+1>=PHOTOS.length);modal.querySelector(".modal-prev-btn").classList.toggle("disabled",active_photo<=0)}function endLoadingAnimation(){var e=modal.querySelectorAll(".bars div");var t=e.length;var a=0;e.forEach((e,n)=>{e.addEventListener("animationiteration",function o(i){if(n===0||a>0){i.target.classList.add("done");a++;e.removeEventListener("animationiteration",o)}if(a>=t&&!modal.classList.contains(...["hidden","slide-in-up","slide-out-bottom"])){modal.classList.add("loaded")}})});setTimeout(e=>{if(!modal.classList.contains(...["hidden","slide-in-up","slide-out-bottom"]))modal.classList.add("loaded")},2e3)}function startLoadingAnimation(){modal.classList.remove("loaded");modal.querySelectorAll(".bars div").forEach((e,t)=>setTimeout(t=>e.classList.remove("done"),t*100))}function formatCaptions(e){var t=e.lastIndexOf(",",e.lastIndexOf(",")-1)+1;return e.substr(0,t)+"<br>"+e.substr(t)}function identifyPhoto(e){return`${e.index}.jpg - ${e.caption.substr(0,e.caption.lastIndexOf(",",e.caption.lastIndexOf(",")-1))}`}var map,currentMapLayer,currentMapLayerName,paths=[],dist=document.getElementById("distance");function initializeMap(){L.mapbox.accessToken="pk.eyJ1Ijoicm9oYW5iMTAiLCJhIjoiY2thaDZxaHFvMGRoaDJzbzBtczM3YjNneiJ9.Wza5G0LIJQ8hZjAYsFobYg";map=L.mapbox.map("map").setView([37.7906,-122.4482],12).setMaxZoom(15).setMinZoom(10).setMaxBounds([[[37.196,-121.609],[38.225,-123.036]]]);currentMapLayerName="light";currentMapLayer=L.mapbox.styleLayer(mapLayers[currentMapLayerName]);map.addLayer(currentMapLayer);checkMapLayerColor();map.attributionControl.remove()}function updateMap(e){var t=e.getAttribute("data-ride-id");if(t==="all"){drawAll();enableMapInteractions();trackEvent("Map Changed",window.location.pathname,"All");return}else if(t==="random"){var a=getRandomPathID();drawSnake(a);trackEvent("Map Changed",window.location.pathname,"Random",a);return}else if(RIDES[t]===undefined){return}drawSnake(t);trackEvent("Map Changed",window.location.pathname,e.nextElementSibling?e.nextElementSibling.innerText:"Single Ride",t)}var mapLayers={light:"mapbox://styles/mapbox/light-v10",dark:"mapbox://styles/mapbox/dark-v10"};function checkMapLayerColor(){if(!map)return;if(currentMapLayerName==="custom")return;var e=isDark(document.documentElement.style.getPropertyValue("--c-3"))?"light":"dark";if(e===currentMapLayerName)return;if(currentMapLayerName.length>1)mapContainer.classList.remove(currentMapLayerName);var t=L.mapbox.styleLayer(mapLayers[e]);map.addLayer(t).removeLayer(currentMapLayer);mapContainer.classList.add(e);currentMapLayer=t;currentMapLayerName=e;return}function clearPaths(e=false){if(!map)return;paths.forEach(e=>e.remove(map));paths=[];resetDistanceContainer(e)}function drawSnake(e){if(!map)return;clearPaths(true);var t=L.polyline(decodePath(RIDES[e]),{className:"path-single",color:"--var(--c-3)"});paths.push(t);document.querySelector(".distance-container").classList.remove("hidden");map.fitBounds(t.getBounds(),{padding:[10,10],animate:true,pan:{duration:1}});map.once("moveend",e=>{t.addTo(map);var a=t._path.getTotalLength();Object.assign(t._path.style,{opacity:0,transitionProperty:"stroke-dashoffset",transitionDuration:"1ms",transitionTimingFunction:"linear",strokeDashoffset:a,strokeDasharray:a});setTimeout(e=>{Object.assign(t._path.style,{opacity:.7,transitionDuration:`${getTransitionDuration(t)}s`,strokeDashoffset:0});startDistanceCountUp(t);disableMapInteractions();t._path.addEventListener("transitionend",e=>{t._path.style.strokeDasharray="unset";enableMapInteractions()},{once:true})},150)})}function drawAll(){clearPaths();map.flyTo([37.7906,-122.4482],12);map.once("moveend",e=>{for(var t of Object.keys(RIDES)){var a=L.polyline(decodePath(RIDES[t]),{className:"path-all",color:currentMapLayerName==="dark"?"#FFF":"#000"});a.addTo(map);paths.push(a)}})}function drawRandom(e){e.classList.add("spin");e.addEventListener("animationend",t=>e.classList.remove("spin"),{once:true});var t=getRandomPathID();trackEvent("Map Changed",window.location.pathname,"Random",t);drawSnake(t)}function getRandomPathID(){if(!map)return;var e,t=0;var a=Math.random()<.75?1e4:Math.random()<.67?7500:5e3;var n=Array.from(document.querySelectorAll('.control input[type="radio"]')).map(e=>e.getAttribute("data-ride-id"));var o=shuffleArray(Object.keys(RIDES)).filter(e=>!n.includes(e));while(t<a){e=o[o.length*Math.random()<<0];t=calcDistance(L.polyline(decodePath(RIDES[e])))}return e}function calcDistance(e){if(!map)return;var t=e._latlngs[0];var a=0;e._latlngs.forEach(e=>{a+=t.distanceTo(e);t=e});return parseInt(a)}function getTransitionDuration(e){var t=calcDistance(e)/2e3;return t<=10?10:t}var distanceTimeout;function resetDistanceContainer(e){document.querySelector(".distance-container").classList.add("hidden");clearTimeout(distanceTimeout);setTimeout(e=>dist.innerText="0.0",e?0:305)}function startDistanceCountUp(e){var t=calcDistance(e);var a=t/getTransitionDuration(e)*(50/1e3);updateDistance(0,a/1e3,t/1e3)}function updateDistance(e,t,a){e+=t;dist.innerText=e.toFixed(1);if(e<a)distanceTimeout=setTimeout(n=>updateDistance(e,t,a),49)}function disableMapInteractions(){if(!map)return;mapContainer.classList.add("waiting");map.dragging.disable();map.touchZoom.disable();map.doubleClickZoom.disable();map.scrollWheelZoom.disable();map.keyboard.disable();if(map.tap)map.tap.disable()}function enableMapInteractions(){if(!map)return;mapContainer.classList.remove("waiting");map.dragging.enable();map.touchZoom.enable();map.doubleClickZoom.enable();map.scrollWheelZoom.enable();map.keyboard.enable();if(map.tap)map.tap.enable()}function changeMapLayer(e){nextMapLayer=L.mapbox.styleLayer(e);currentMapLayerName="custom";map.addLayer(nextMapLayer).removeLayer(currentMapLayer);currentMapLayer=nextMapLayer}function decodePath(e){var t=0,a=0,n=0,o=[],i=0,r=0,s=null,c,l,d=1e5;while(t<e.length){s=null;i=0;r=0;do{s=e.charCodeAt(t++)-63;r|=(s&31)<<i;i+=5}while(s>=32);c=r&1?~(r>>1):r>>1;i=r=0;do{s=e.charCodeAt(t++)-63;r|=(s&31)<<i;i+=5}while(s>=32);l=r&1?~(r>>1):r>>1;a+=c;n+=l;o.push([a/d,n/d])}return o}const COLOUR_SCHEMES=[["rgb( 76,187,185)","rgb(255,190,105)","rgb(152,214,234)","rgb(255, 99, 99)","rgb(133,102,170)"],["rgb(239,194,184)","rgb(149,187,217)","rgb(188,220,150)","rgb(238,222,151)","rgb(214,217,253)"],["rgb(240, 92,136)","rgb(111,125,246)","rgb(119,203,249)","rgb(255,168,  5)","rgb( 66,199,153)"],["rgb(  6,140,175)","rgb( 17,183,158)","rgb(233,178,188)","rgb(219,188,118)","rgb(146,129,161)"],["rgb(254,138,138)","rgb(127,102,152)","rgb(250,210,109)","rgb(127,182,161)","rgb(139,197,217)"],["rgb(145, 48, 48)","rgb( 39, 90,119)","rgb( 36,107, 80)","rgb(194,129, 71)","rgb(112, 72,111)"]];function changeColours(e){var t=document.documentElement;var a="New Colours: ";e.forEach((e,n)=>{e=`rgb(${+`0x${e[1]}${e[2]}`},${+`0x${e[3]}${e[4]}`},${+`0x${e[5]}${e[6]}`})`;t.style.setProperty(`--c-${n}`,e);a+=e+", "});currentScheme=-1;return a}function rgbArray(e){e=e.substr(4).split(")")[0].split(",");return[parseInt(e[0]),parseInt(e[1]),parseInt(e[2])]}function transitionColourScheme(e,t=true,a){if(e<0||e>=COLOUR_SCHEMES.length)return"Please enter a valid index";var n=[],o=[],i=[],r=0;var s=COLOUR_SCHEMES[e];if(t)s=shuffleArray(s);var c=document.documentElement.style;s.forEach((e,t)=>{n.push(rgbArray(e));o.push(rgbArray(c.getPropertyValue(`--c-${t}`)))});o.forEach((e,t)=>{i[t]=setInterval(o=>{e.forEach((a,o)=>e[o]=a>n[t][o]?a-1:a<n[t][o]?a+1:a);c.setProperty(`--c-${t}`,`rgb(${e[0]},${e[1]},${e[2]})`);if(e[0]===n[t][0]&&e[1]===n[t][1]&&e[2]===n[t][2]){clearInterval(i[t]);setDarkClassForSections(s);if(++r>=n.length&&a)a()}},1)})}function changeColourScheme(e,t=true,a){if(e<0||e>=COLOUR_SCHEMES.length)return"Please enter a valid index";var n=COLOUR_SCHEMES[e||currentScheme];if(t)n=shuffleArray(n);var o=document.documentElement;n.forEach((e,t)=>o.style.setProperty(`--c-${t}`,e));setDarkClassForSections(n);if(a)a()}function setDarkClassForSections(e){document.querySelectorAll(".section").forEach((t,a)=>t.classList.toggle("is-dark",isDark(e[a])))}function nextColourSchemeID(){return currentScheme+1<COLOUR_SCHEMES.length?currentScheme+1:0}function isDark(e){var t=rgbArray(e);return(t[0]*299+t[1]*587+t[2]*114)/1e3<142}function bucket(e){if(e.parentElement.classList.contains("changing"))return;var t=nextColourSchemeID();e.parentElement.classList.add("changing");var a=t=>{checkMapLayerColor();setTimeout(t=>{e.parentElement.classList.remove("changing");changeBucketColours(nextColourSchemeID())},1200)};if(active_section!==null){transitionColourScheme(t,true,e=>{ripple();a()})}else{var n=navbar.querySelector(".section-title.wave");killWave();setTimeout(e=>{changeColourScheme(t,true,e=>{startWave(1);a()})},n?450:0)}currentScheme=t;trackEvent("Spill","bucket","Colours changed",currentScheme)}function changeBucketColours(e){var t=document.querySelector(".bucket");COLOUR_SCHEMES[e].forEach((e,a)=>t.style.setProperty(`--nc-${a}`,e))}var currentScheme=0;changeColourScheme(currentScheme);changeBucketColours(nextColourSchemeID());var navbar,navbarSections,names,mapContainer,active_section=null,active_work="",active_photo=-1;if(window.location.search.length>1){document.body.classList.add("no-touching");var param="",sectionName=window.location.search.substr(1);if(sectionName.indexOf(",")>-1){param=sectionName.split(",")[1];sectionName=sectionName.split(",")[0]}document.querySelector(`#id-${sectionName} .text`).addEventListener("animationend",e=>{if(param!==""&&sectionName==="work"&&document.getElementById(param)){workPicker(param)}else if(param!==""&&sectionName==="photos"&&0<=parseInt(param)&&parseInt(param)<PHOTOS.length){console.log(param);openPhotoModal(parseInt(param),false)}document.body.classList.remove("no-touching")},{once:true});setTimeout(e=>trackEvent(`Navigating directly to section: /${sectionName}${param!==""?"?"+param:""}`,window.location.pathname),999);history.pushState(null,null,"/");setTimeout(e=>navControl(sectionName),1e3)}window.addEventListener("popstate",e=>{navbarSections.forEach(e=>e.classList.remove("active"));hideAllSections();trackEvent("Back button clicked",window.location.pathname,"Home")});var wave,swell,tide,crests=[],troughs=[];function ripple(e=0){clearTimeout(swell);swell=setTimeout(function(){navbarSections.forEach((e,t,a)=>{crests[t]=setTimeout(rippleUp,150*t,e,names[t]);troughs[t]=setTimeout(rippleDown,a.length*150+200*t,e,names[t])})},e)}function rippleUp(e,t){e.classList.add("wave");if(t)t.classList.add("wave")}function rippleDown(e,t){e.classList.remove("wave");if(t)t.classList.remove("wave")}function startWave(e=0){if(e>0)ripple(e);clearInterval(wave);clearTimeout(tide);tide=setTimeout(e=>wave=setInterval(ripple,4e3),e)}function killWave(e){clearTimeout(tide);clearTimeout(swell);clearInterval(wave);navbarSections.forEach((t,a)=>{clearTimeout(crests[a]);if(a===e){clearTimeout(troughs[a])}else{rippleDown(t,names[a])}})}function highTide(){killWave();navbarSections.forEach((e,t,a)=>setTimeout(rippleUp,150*t,e,names[t]))}function navControl(e){if(!typeof e==="string"||e.length===0)return;var t=navbar.querySelector(`span[data-section-name="${e}"]`);if(!t||!t.parentElement)return;var a=t.parentElement;var n=`id-${e}`;killWave();navbar.classList.remove("active");navbarSections.forEach(e=>e.classList.remove("active"));if(n===active_section){hideAllSections();trackEvent("Section Closed","navbar","Home")}else{showSection(n);navbar.setAttribute("data-bg-color",a.getAttribute("data-bg-color"));navbar.setAttribute("data-open","true");navbar.classList.add("active");a.classList.add("active");document.getElementById("section-container").classList.add("active");history.pushState(null,null,`/${e}`);trackEvent("Section Changed","navbar",e)}}var mapFilesLoadedCount=0;function showSection(e){switch(e){case"id-work":document.querySelectorAll(".card .logo img, .badges img").forEach(e=>e.src=e.getAttribute("data-src"));if(active_work==="")break;document.querySelector(".work.active").classList.remove("active");document.getElementById(active_work).classList.add("hidden");active_work="";break;case"id-skills":loadSkills();break;case"id-photos":if(active_photo!==-1){active_photo=-1;closePhotoModal(false)}genThumbnails();break;case"id-maps":mapContainer.classList.remove("fade-in");mapFilesLoadedCount=0;loadFile("rides","js");loadFile("mapbox","js","https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.js");loadFile("mapbox","css","https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.css");setTimeout(e=>{var t=setInterval(e=>{if(mapFilesLoadedCount>=3){if(map===undefined)initializeMap();mapContainer.classList.add("fade-in");clearTimeout(t)}},250)},1500);break;case"id-about":document.getElementById("me-jpg").src="assets/me.jpg";document.getElementById("me-gif").src="assets/me.gif";break}if(active_section===null){toggleHero();setTimeout(t=>document.getElementById(e).classList.remove("hidden"),1e3)}else{window.scroll({top:0,left:0,behavior:"smooth"});animateOut(`#${active_section}`,"fade-out-bottom",t=>document.getElementById(e).classList.remove("hidden"))}active_section=e}function toggleHero(){var e=document.getElementById("hero");e.style.height=e.style.height===`0px`?`calc(var(--vh, 1vh) * 60)`:`0px`}function loadFile(e,t,a){if(document.querySelectorAll(`.${t}-${e}`).length>0){mapFilesLoadedCount++;return}var n=Object.assign(document.createElement(t==="js"?"script":"link"),{...t==="js"&&a===undefined?{src:`js/${e}.js`}:{},...t==="js"&&a!==undefined?{src:a}:{},...t==="css"?{rel:"stylesheet"}:{},...t==="css"&&a===undefined?{href:`css/${e}.css`}:{},...t==="css"&&a!==undefined?{href:a}:{},className:`${t}-${e}`});n.onload=(e=>mapFilesLoadedCount++);if(t==="js")document.body.appendChild(n);if(t==="css")document.head.appendChild(n)}function hideAllSections(){navbar.setAttribute("data-open","false");navbar.classList.remove("active");document.getElementById("section-container").classList.remove("active");toggleHero();killWave();startWave(1500);history.pushState(null,null,"/");animateOut("#"+active_section,"fade-out-bottom");active_section=null}function workPicker(e){if(typeof e!=="string"||e.length===0)return;var t=document.querySelector(`.work[data-work-name="${e}"]`);if(!t)return;if(active_work===e)return;var a=document.getElementById(e);if(active_work===""){a.classList.remove("hidden")}else{document.querySelector(".work.active").classList.remove("active");animateOut(`#${active_work}`,"fade-out-right",e=>a.classList.remove("hidden"))}t.classList.add("active");active_work=e;document.querySelectorAll(".arrow span").forEach(e=>{e.classList.add("fade-down-twice");e.addEventListener("animationend",t=>e.classList.remove("fade-down-twice"),{once:true})});history.pushState("","",`${window.location.pathname}?${e}`);trackEvent("Work Clicked",window.location.pathname,e)}var skills,skillCycle,currentHover,pedal;function loadSkills(){skills=document.querySelectorAll(".skill");skills.forEach(e=>{var t=e.firstElementChild;t.src=`/assets/skills/${t.getAttribute("data-src").toLowerCase()}.png`;e.onmouseover=(e=>killSkillCycle());e.onmouseout=(e=>startSkillCycle(1500));e.prepend(document.createElement("div"))});currentHover=0;startSkillCycle(3500)}function killSkillCycle(){clearInterval(skillCycle);clearTimeout(pedal);var e=document.querySelector(".skill.hovered");if(e)e.classList.remove("hovered")}function startSkillCycle(e=0){killSkillCycle();pedal=setTimeout(e=>{skillCycle=setInterval(e=>{var t=document.querySelector(".skill.hovered");if(t)t.classList.remove("hovered");skills[currentHover].classList.add("hovered");currentHover++;if(currentHover>=skills.length)currentHover=0},1500)},e)}function darkMode(){document.documentElement.classList.toggle("dark-mode")}function trackEvent(e="click",t="Not Specified",a,n){galite("send","event",t,e,a,n)}function animateOut(e,t,a,n=500){var o=document.querySelector(e);o.classList.add(t);setTimeout(e=>{o.classList.remove(t);o.classList.add("hidden");if(a)a()},n,o,t,a)}function animateIn(e,t,a,n=500){var o=document.querySelector(e);o.classList.remove("hidden");o.classList.add(t);setTimeout(e=>o.classList.remove(t),n,o);if(a)a()}function shuffleArray(e){return e.map(e=>[Math.random(),e]).sort((e,t)=>e[0]-t[0]).map(e=>e[1])}var debounced;function mobileViewportHack(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}var window_height=window.innerHeight;window.addEventListener("resize",e=>{if(window.innerHeight===window_height)return;clearTimeout(debounced);debounced=setTimeout(mobileViewportHack,100)});mobileViewportHack();window.addEventListener("orientationchange",mobileViewportHack);document.querySelectorAll("a").forEach(e=>{e.addEventListener("click",t=>{trackEvent("url clicked",window.location.pathname,e.getAttribute("data-name")?e.getAttribute("data-name"):e.hostname)})});document.addEventListener("DOMContentLoaded",e=>{if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)darkMode();navbar=document.getElementById("navigation");navbarSections=navbar.querySelectorAll(".section-title");names=document.querySelectorAll("#hero span span");mapContainer=document.querySelector(".map-container");navbarSections.forEach((e,t)=>{e.addEventListener("mouseover",e=>{killWave(t);if(active_section===null)names[t].classList.add("wave")});e.addEventListener("mousemove",e=>{if(active_section===null)names[t].classList.add("wave")});e.addEventListener("mouseout",e=>{killWave();if(active_section===null)startWave(1500)})});startWave(1e3)},{once:true});