var navbar,navbarSections,active_section=null,active_work="",active_photo=null;history.pushState(null,null,window.location.pathname);window.addEventListener("popstate",()=>{navbarSections.forEach(e=>{e.classList.remove("active")});hideAllSections()});document.addEventListener("DOMContentLoaded",()=>{navbar=document.getElementById("navigation");navbarSections=navbar.querySelectorAll(".section-title");navbarSections.forEach(e=>{e.onmouseover=(()=>killWave());e.onmouseout=(()=>{if(active_section===null)startWave()})});ripple(1e3);startWave()},false);const COLOR_SCHEMES={1:["#EA4347","#6DC1C5","#30B06A","#F7C83B"],2:["#F05C88","#6F7DF6","#77CBF9","#FFA805"],3:["#DE5E5E","#45B6EF","#42B362","#DFA8FF"],4:["#DA496B","#4D63D1","#629337","#F57E09"],5:["#EFC2B8","#95BBD9","#BCDC96","#EEDE97"],6:["#913030","#275A77","#246B50","#C28147"]};function changeColorScheme(e=-1,t=true){if(e<=0||e>Object.keys(COLOR_SCHEMES).length){return"Please enter a valid index"}e=e||Math.floor(Math.random()*Object.keys(COLOR_SCHEMES).length+1);var a=COLOR_SCHEMES[e];a=t?a.sort(()=>{return.5-Math.random()}):a;var o=document.documentElement;o.style.setProperty("--color-one",a[0]);o.style.setProperty("--color-two",a[1]);o.style.setProperty("--color-three",a[2]);o.style.setProperty("--color-four",a[3]);return e}var currentSchemeIndex=changeColorScheme(1);function changeColours(e,t,a,o){var n=document.documentElement;n.style.setProperty("--color-one",e);n.style.setProperty("--color-two",t);n.style.setProperty("--color-three",a);n.style.setProperty("--color-four",o);currentSchemeIndex=-1;return"New Colours: "+e+", "+t+", "+a+", "+o}console.log(`changeColours('#AAAAAA', '#BBBBBB', '#CCCCCC', '#DDDDDD')`);var isWavy=e=>e.classList.contains("wave");function bucket(e){var t=Array.prototype.slice.call(navbarSections).some(e=>e.classList.contains("wave"));var a=Object.keys(COLOR_SCHEMES).length;var o=currentSchemeIndex;while(o===currentSchemeIndex){o=Math.floor(Math.random()*a)+1}e.parentElement.classList.remove("default-colors");e.parentElement.classList.add("changed");document.querySelector("bucket-tooltip-action");animateIn(".bucket-tooltip-action","fade-in",()=>{animateOut(".bucket-tooltip-action","fade-out",null,1500)},1);if(t){killWave();setTimeout(()=>{currentSchemeIndex=changeColorScheme(o);ripple();if(active_section===null)startWave()},400)}else{currentSchemeIndex=changeColorScheme(o);ripple()}track(`Colour Changed: ${o}`,"#bucket")}function ripple(e=0){setTimeout(function(){navbarSections.forEach((e,t,a)=>{setTimeout(rippleUp,150*t,e);setTimeout(rippleDown,a.length*150+200*t,e)})},e)}function rippleUp(e){e.classList.add("wave")}function rippleDown(e){e.classList.remove("wave")}var wave;function startWave(){clearInterval(wave);wave=setInterval(ripple,4e3)}function killWave(){clearInterval(wave);navbarSections.forEach(e=>{e.classList.remove("wave")})}function sectionPicker(e){var t=e.querySelector("span").getAttribute("data-section-id");var a=e.querySelector("span").getAttribute("data-section-name");killWave();navbar.classList.remove("active");navbarSections.forEach(e=>{e.classList.remove("active")});if(t===active_section){hideAllSections();track("Back to Home","#")}else{showSection(t);navbar.setAttribute("data-bg-color",e.getAttribute("data-bg-color"));navbar.setAttribute("data-open","true");navbar.classList.add("active");e.classList.add("active");document.getElementById("section-container").classList.add("active");history.pushState("","",`#${a}`);track(a)}}function hideAllSections(){navbar.setAttribute("data-open","false");document.getElementById("section-container").classList.remove("active");document.getElementById("hero").classList.remove("minimize");ripple(1e3);startWave();history.pushState(null,null,window.location.pathname);animateOut("#"+active_section,"fade-out-bottom");active_section=null}function showSection(e){switch(e){case"id-work":if(active_work==="")break;document.querySelector(".work.active").classList.remove("active");document.getElementById(active_work).classList.add("hidden");active_work="";break;case"id-skills":document.querySelectorAll(".img-skill").forEach(e=>{e.src=e.getAttribute("data-src")});break;case"id-photos":closePhotoModal();genThumbnails();break;case"id-about":document.getElementById("me-jpg").src="assets/me.jpg";document.getElementById("me-gif").src="assets/me.gif";break}if(active_section===null){document.getElementById("hero").classList.add("minimize");setTimeout(()=>{document.getElementById(e).classList.remove("hidden")},1e3)}else{window.scroll({top:0,left:0,behavior:"smooth"});animateOut(`#${active_section}`,"fade-out-bottom",()=>{document.getElementById(e).classList.remove("hidden")})}active_section=e}function workPicker(e,t){if(active_work===t)return;var a=document.getElementById(t);if(active_work===""){a.classList.remove("hidden")}else{document.querySelector(".work.active").classList.remove("active");animateOut(`#${active_work}`,"fade-out-right",()=>{a.classList.remove("hidden")})}e.classList.add("active");active_work=t;if(window.innerWidth<=640){a.parentElement.scrollIntoView({behavior:"smooth"})}history.pushState("","",`#work?${t}`);track(`Work - ${t}`)}function genThumbnails(){const e=document.getElementById("thumbnail-container");const t=2e3;var a=[];e.innerHTML="";PHOTOS.sort(()=>{return.5-Math.random()});PHOTOS.forEach((a,o)=>{var n=Object.assign(document.createElement("div"),{className:"thumb fade-in-up",style:`animation-delay: ${o<15?t+parseInt(o*100):0}ms`,onclick:()=>openPhotoModal(o)});var i=Object.assign(document.createElement("div"),{className:"placeholder",style:`background-color: ${a.bg}`});n.appendChild(i);var r=Object.assign(document.createElement("img"),{src:`assets/photos/thumb/${a.index}.jpg`,onload:()=>{i.style.opacity=0;setTimeout(()=>{i.style.display="none"},500)},onerror:()=>{i.style.display="none"}});r.onmouseover=(()=>{setTimeout(()=>{r.addEventListener("mousemove",panZoom,false,this)},300)});r.onmouseout=(()=>{r.removeEventListener("mousemove",panZoom)});n.appendChild(r);e.appendChild(n)})}function panZoom(e){e.target.style.transformOrigin=`${e.offsetX}px ${e.offsetY}px`}function openPhotoModal(e){loadPhoto(e);animateIn(".photo-modal","slide-in-up",null,500);document.addEventListener("keydown",function e(t){if(t.keyCode===27){closePhotoModal();document.removeEventListener("keydown",e)}})}function loadPhoto(e,t=0){Object.assign(document.createElement("img"),{src:`assets/photos/${PHOTOS[e].index}.jpg`,onload:()=>{setTimeout(()=>{document.querySelector(".photo-container").style.backgroundImage=`url('assets/photos/${PHOTOS[e].index}.jpg')`;endLoadingAnimation();track(identifyPhoto(PHOTOS[e].caption))},t)},onerror:()=>{endLoadingAnimation()}});history.pushState("","",`#photos?${e+1}`);document.querySelector(".caption").innerHTML=formatCaptions(PHOTOS[e].caption);active_photo=e;var a=document.querySelector(".modal-next-btn");var o=document.querySelector(".modal-prev-btn");if(active_photo+1>=PHOTOS.length){a.classList.add("disabled")}else if(active_photo<=0){o.classList.add("disabled")}else{a.classList.remove("disabled");o.classList.remove("disabled")}}function nextPhoto(){if(active_photo+1>=PHOTOS.length)return;active_photo++;startLoadingAnimation(true);loadPhoto(active_photo,500)}function prevPhoto(){if(active_photo<=0)return;active_photo--;startLoadingAnimation(true);loadPhoto(active_photo,500)}function endLoadingAnimation(){var e=document.querySelector(".modal-content");var t=e.querySelectorAll(".bar");var a=t.length;var o=0;t.forEach((t,n)=>{t.addEventListener("animationiteration",function i(r){if(n===0||o>0){r.target.classList.add("done");o++;t.removeEventListener("animationiteration",i)}if(o>=a){setTimeout(()=>{e.classList.add("loaded");return},500)}})});setTimeout(()=>{e.classList.add("loaded");return},4e3)}function startLoadingAnimation(e=false){var t=document.querySelector(".modal-content");t.classList.remove("loaded");if(e){t.classList.add("no-staggered-delays")}else{t.classList.remove("no-staggered-delays")}t.querySelectorAll(".bar").forEach((e,t)=>{setTimeout(()=>{e.classList.remove("done")},t*100)})}function formatCaptions(e){var t=e.lastIndexOf(",",e.lastIndexOf(",")-1)+1;return e.substr(0,t)+"<br>"+e.substr(t)}function identifyPhoto(e){if(e.substr(0,e.indexOf(",")).indexOf("Park")>=0||e.indexOf(",")<=12)return e.substr(0,e.indexOf(","));var t=e.indexOf(" ");while(t<12){t=e.indexOf(" ",t+1);if(e.indexOf(",")<=t)return e.substr(0,e.indexOf(","))}return e.substr(0,t)}function closePhotoModal(){animateOut(".photo-modal","slide-out-bottom",()=>{document.querySelector(".photo-container").style.backgroundImage="";document.querySelector(".caption").innerHTML="";startLoadingAnimation()})}function track(e,t=false){if(typeof clicky==="undefined")return;clicky.log(t?t:window.location.hash,e)}function animateOut(e,t,a,o=500){var n=document.querySelector(e);n.classList.add(t);setTimeout(()=>{n.classList.remove(t);n.classList.add("hidden");if(a)a()},o,n,t,a)}function animateIn(e,t,a,o=500){var n=document.querySelector(e);n.classList.remove("hidden");n.classList.add(t);setTimeout(()=>{n.classList.remove(t)},o,n);if(a)a()}const PHOTOS=[{index:0,bg:"#89979A",caption:"Kangchendzonga National Park, Sikkim, India"},{index:1,bg:"#6D86B8",caption:"Half Dome from Glacier Point, Yosemite National Park, California"},{index:2,bg:"#82B0D8",caption:"Blue Lake, Inyo National Forest, California"},{index:3,bg:"#B36F3C",caption:"Lakes Trail, Kings Canyon National Park, California"},{index:4,bg:"#2F343B",caption:"Horsetooth Mountain, Fort Collins, Colorado"},{index:5,bg:"#B8C9CC",caption:"Dolores Park, Mission, San Francisco, California"},{index:6,bg:"#8B6151",caption:"Kaibab National Forest, Grand Canyon, Arizona"},{index:7,bg:"#6C7971",caption:"Perugia, Cambria, Italy"},{index:8,bg:"#B26542",caption:"Alghero, Sardinia, Italy"},{index:9,bg:"#5E6C3C",caption:"Rifugio Menaggio, Lake Como, Italy"},{index:10,bg:"#5575C0",caption:"Puez-Geisler National Park, South Tyrol, Italy"},{index:11,bg:"#486BA1",caption:"Peak of Monte Grona, Lake Como, Italy"},{index:12,bg:"#7082A2",caption:"Puez-Geisler National Park, South Tyrol, Italy"},{index:13,bg:"#ADB9D1",caption:"Vembanad Lake, Cochin, Kerala, India"},{index:14,bg:"#6A723E",caption:"Angel Island State Park, San Francisco Bay, California"},{index:15,bg:"#8A7C4C",caption:"Soberanes Point, Carmel, Monterey, California"},{index:16,bg:"#EC965C",caption:"West Point Lighthouse, Discovery Park, Seattle, Washington"},{index:17,bg:"#D6D3CE",caption:"Wallace Falls State Park, Snohomish County, Washington"},{index:18,bg:"#9C7E52",caption:"Laguna Creek Beach, Santa Cruz, California"},{index:19,bg:"#CBAC86",caption:"Tent Rocks National Monument, Sandoval County, New Mexico"},{index:20,bg:"#454934",caption:"Gennargentu National Park, Cala Ganone, Sardinia, Italy"},{index:21,bg:"#94ABBD",caption:"McLaren Park, San Francisco, California"},{index:22,bg:"#2F3411",caption:"Angel Island State Park, San Francisco Bay, California"},{index:23,bg:"#A73E28",caption:"Prewitt Ridge, Big Sur, California"},{index:24,bg:"#536C8B",caption:"Yosemite Falls Trail, Yosemite National Park, California"},{index:25,bg:"#808B63",caption:"Kangchendzonga National Park, Sikkim, India"},{index:26,bg:"#546420",caption:"Briones Regional Park, Lafayette, California"},{index:27,bg:"#D8DEE0",caption:"Mendocino Headlands State Park, Mendocino, California"},{index:28,bg:"#709BC3",caption:"Four Mile Trail, Yosemite National Park, California"},{index:29,bg:"#E9906E",caption:"Shilshole Bay, Ballard, Seattle, Washington"}];