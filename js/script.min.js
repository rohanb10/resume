const PHOTOS=[{index:0,bg:"#89979A",caption:"Kangchendzonga National Park, Sikkim, India"},{index:1,bg:"#6D86B8",caption:"Half Dome from Glacier Point, Yosemite National Park, California"},{index:2,bg:"#82B0D8",caption:"Blue Lake, John Muir Wilderness, Inyo National Forest, California"},{index:3,bg:"#B36F3C",caption:"Emerald Lake, Lakes Trail, Kings Canyon National Park, California"},{index:4,bg:"#2F343B",caption:"Horsetooth Mountain, Fort Collins, Colorado"},{index:5,bg:"#B8C9CC",caption:"Dolores Park, Mission, San Francisco, California"},{index:6,bg:"#8B6151",caption:"Kaibab National Forest, Grand Canyon, Arizona"},{index:7,bg:"#6C7971",caption:"Perugia, Cambria, Italy"},{index:8,bg:"#B26542",caption:"Alghero, Sardinia, Italy"},{index:9,bg:"#5E6C3C",caption:"Rifugio Menaggio, Lake Como, Italy"},{index:10,bg:"#5575C0",caption:"Puez-Geisler National Park, South Tyrol, Italy"},{index:11,bg:"#486BA1",caption:"Peak of Monte Grona, Lake Como, Italy"},{index:12,bg:"#7082A2",caption:"Puez-Geisler National Park, South Tyrol, Italy"},{index:13,bg:"#ADB9D1",caption:"Vembanad Lake, Cochin, Kerala, India"},{index:14,bg:"#6A723E",caption:"Angel Island State Park, San Francisco Bay, California"},{index:15,bg:"#8A7C4C",caption:"Soberanes Point, Carmel, Monterey, California"},{index:16,bg:"#EC965C",caption:"West Point Lighthouse, Discovery Park, Seattle, Washington"},{index:17,bg:"#D6D3CE",caption:"Wallace Falls State Park, Snohomish County, Washington"},{index:18,bg:"#9C7E52",caption:"Laguna Creek Beach, Santa Cruz, California"},{index:19,bg:"#CBAC86",caption:"Tent Rocks National Monument, Sandoval County, New Mexico"},{index:20,bg:"#454934",caption:"Gennargentu National Park, Cala Ganone, Sardinia, Italy"},{index:21,bg:"#94ABBD",caption:"McLaren Park, San Francisco, California"},{index:22,bg:"#2F3411",caption:"Angel Island State Park, San Francisco Bay, California"},{index:23,bg:"#A73E28",caption:"Prewitt Ridge, Big Sur, California"},{index:24,bg:"#536C8B",caption:"Yosemite Falls Trail, Yosemite National Park, California"},{index:25,bg:"#808B63",caption:"Kangchendzonga National Park, Sikkim, India"},{index:26,bg:"#546420",caption:"Briones Regional Park, Lafayette, California"},{index:27,bg:"#D8DEE0",caption:"Mendocino Headlands State Park, Mendocino, California"},{index:28,bg:"#709BC3",caption:"Four Mile Trail, Yosemite National Park, California"},{index:29,bg:"#E9906E",caption:"Shilshole Bay, Ballard, Seattle, Washington"}];const thumbs=document.querySelector(".thumbnails");const modal=document.querySelector(".photo-modal");function genThumbnails(){const e=2500;thumbs.innerHTML="";PHOTOS.sort(()=>{return.5-Math.random()});PHOTOS.forEach((t,a)=>{var o=Object.assign(document.createElement("div"),{className:`thumb-container fade-in delay-${a<15?e+parseInt(a*100):0}`,onclick:()=>openPhotoModal(a)});var n=Object.assign(document.createElement("img"),{className:"placeholder",src:`assets/photos/thumb/placeholder/${t.index}.svg`,style:`background-color: ${t.bg}`});o.appendChild(n);var i=Object.assign(document.createElement("img"),{className:"thumb",src:`assets/photos/thumb/${t.index}.jpg`});o.onmouseover=(()=>{setTimeout(()=>{o.addEventListener("mousemove",panZoom,false,this)},300)});o.onmouseout=(()=>{o.removeEventListener("mousemove",panZoom)});o.appendChild(i);thumbs.appendChild(o)});setTimeout(()=>{thumbs.querySelectorAll(".thumb-container").forEach(e=>{var t=e.querySelector(".placeholder");var a=e.querySelector(".thumb");var o=()=>{setTimeout(()=>{t.style.opacity=0;a.style.filter="blur(0px)"},1e3);setTimeout(()=>{t.style.display="none"},1500)};a.onload=o();if(a.complete)o()})},e+1e3)}function panZoom(e){e.target.style.transformOrigin=`${e.offsetX}px ${e.offsetY}px`}function openPhotoModal(e){loadPhoto(e);animateIn(".photo-modal","slide-in-up",null,500);document.addEventListener("keydown",function e(t){if(t.keyCode===39)nextPhoto();if(t.keyCode===37)prevPhoto();if(t.keyCode===27){closePhotoModal();document.removeEventListener("keydown",e)}})}function closePhotoModal(){animateOut(".photo-modal","slide-out-bottom",()=>{modal.querySelector(".photo-container").style.backgroundImage="";modal.querySelector(".caption").innerHTML="";startLoadingAnimation()});history.pushState("","","#photos")}function nextPhoto(){if(active_photo+1>=PHOTOS.length||!modal.querySelector(".bar:last-of-type").classList.contains("done"))return;active_photo++;startLoadingAnimation(true);loadPhoto(active_photo,500)}function prevPhoto(){if(active_photo<=0||!modal.querySelector(".bar:last-of-type").classList.contains("done"))return;active_photo--;startLoadingAnimation(true);loadPhoto(active_photo,500)}function loadPhoto(e,t=0){Object.assign(document.createElement("img"),{src:`assets/photos/${PHOTOS[e].index}.jpg`,onload:()=>{setTimeout(()=>{modal.querySelector(".photo-container").style.backgroundImage=`url('assets/photos/${PHOTOS[e].index}.jpg')`;endLoadingAnimation();track(identifyPhoto(PHOTOS[e].caption))},t)},onerror:()=>{endLoadingAnimation()}});history.pushState("","",`#photos?${e+1}`);modal.querySelector(".caption").innerHTML=formatCaptions(PHOTOS[e].caption);active_photo=e;var a=modal.querySelector(".modal-next-btn");var o=modal.querySelector(".modal-prev-btn");if(active_photo+1>=PHOTOS.length){a.classList.add("disabled")}else if(active_photo<=0){o.classList.add("disabled")}else{a.classList.remove("disabled");o.classList.remove("disabled")}}function endLoadingAnimation(){var e=modal.querySelectorAll(".bars div");var t=e.length;var a=0;e.forEach((e,o)=>{e.addEventListener("animationiteration",function n(i){if(o===0||a>0){i.target.classList.add("done");a++;e.removeEventListener("animationiteration",n)}if(a>=t){setTimeout(()=>{modal.classList.add("loaded")},500)}})})}function startLoadingAnimation(e=false){modal.classList.remove("loaded");if(e){modal.classList.add("no-staggered-delays")}else{modal.classList.remove("no-staggered-delays")}modal.querySelectorAll(".bars div").forEach((e,t)=>{setTimeout(()=>{e.classList.remove("done")},t*100)})}function formatCaptions(e){var t=e.lastIndexOf(",",e.lastIndexOf(",")-1)+1;return e.substr(0,t)+"<br>"+e.substr(t)}function identifyPhoto(e){if(e.substr(0,e.indexOf(",")).indexOf("Park")>=0||e.indexOf(",")<=12)return e.substr(0,e.indexOf(","));var t=e.indexOf(" ");while(t<12){t=e.indexOf(" ",t+1);if(e.indexOf(",")<=t)return e.substr(0,e.indexOf(","))}return e.substr(0,t)}const COLOUR_SCHEMES=[["rgb(247,200, 59)","rgb( 48,176,106)","rgb(109,193,197)","rgb(234, 67, 71)"],["rgb(240, 92,136)","rgb(111,125,246)","rgb(119,203,249)","rgb(255,168,  5)"],["rgb(239,194,184)","rgb(149,187,217)","rgb(188,220,150)","rgb(238,222,151)"],["rgb(218, 73,107)","rgb( 77, 99,209)","rgb( 98,147, 55)","rgb(245,126,  9)"],["rgb(160,106,180)","rgb(255,215, 67)","rgb(  7,187,156)","rgb(215,115,162)"],["rgb(145, 48, 48)","rgb( 39, 90,119)","rgb( 36,107, 80)","rgb(194,129, 71)"]];function changeColours(e){var t=document.documentElement;var a="New Colours: ";e.forEach((e,o)=>{e=`rgb(${+`0x${e[1]}${e[2]}`},${+`0x${e[3]}${e[4]}`},${+`0x${e[5]}${e[6]}`})`;t.style.setProperty(`--c-${o}`,e);a+=e+", "});currentScheme=-1;return a}function rgbArray(e){e=e.substr(4).split(")")[0].split(",");return[parseInt(e[0]),parseInt(e[1]),parseInt(e[2])]}function transitionColourScheme(e,t=true,a){if(e<0||e>=COLOUR_SCHEMES.length)return"Please enter a valid index";var o=[],n=[],i=[],r=0;var s=COLOUR_SCHEMES[e||currentScheme];if(t)s.sort(()=>{return.5-Math.random()});var c=document.documentElement.style;s.forEach((e,t)=>{o.push(rgbArray(e));n.push(rgbArray(c.getPropertyValue(`--c-${t}`)))});n.forEach((e,t)=>{i[t]=setInterval(()=>{e.forEach((a,n)=>{e[n]=a>o[t][n]?a-1:a<o[t][n]?a+1:a});c.setProperty(`--c-${t}`,`rgb(${e[0]},${e[1]},${e[2]})`);if(e[0]===o[t][0]&&e[1]===o[t][1]&&e[2]===o[t][2]){clearInterval(i[t]);if(++r>=4&&a)a()}},1)})}function changeColourScheme(e,t=true,a){if(e<0||e>=COLOUR_SCHEMES.length)return"Please enter a valid index";var o=COLOUR_SCHEMES[e||currentScheme];if(t)o.sort(()=>{return.5-Math.random()});var n=document.documentElement;o.forEach((e,t)=>{n.style.setProperty(`--c-${t}`,e)});if(a)a()}function nextColourSchemeID(){return currentScheme+1<COLOUR_SCHEMES.length?currentScheme+1:0}function bucket(e){if(e.parentElement.classList.contains("changing"))return;var t=nextColourSchemeID();e.parentElement.classList.add("changing");setTimeout(()=>{e.parentElement.classList.remove("changing")},1500);if(active_section!==null){transitionColourScheme(t,true,()=>{ripple()})}else{var a=navbar.querySelector(".section-title.wave");killWave();setTimeout(()=>{changeColourScheme(t,true,()=>{ripple();startWave()})},a?400:0)}currentScheme=t;changeBucketColours(nextColourSchemeID());track(`Colour Changed: ${t}`,"#bucket")}function changeBucketColours(e){var t=document.documentElement;nextScheme=COLOUR_SCHEMES[e].sort(()=>{return.5-Math.random()});nextScheme.forEach((e,a)=>{t.style.setProperty(`--nc-${a}`,e)})}var currentScheme=0;changeColourScheme(currentScheme);changeBucketColours(nextColourSchemeID());var navbar,navbarSections,names,active_section=null,active_work="",active_photo=null;history.pushState(null,null,window.location.pathname);window.addEventListener("popstate",()=>{navbarSections.forEach(e=>{e.classList.remove("active")});hideAllSections()});var wave,crests=[];function ripple(e=0){setTimeout(function(){navbarSections.forEach((e,t,a)=>{crests[t]=setTimeout(rippleUp,150*t,e,names[t]);setTimeout(rippleDown,a.length*150+200*t,e,names[t])})},e)}function rippleUp(e,t){e.classList.add("wave");t.classList.add("wave")}function rippleDown(e,t){e.classList.remove("wave");t.classList.remove("wave")}function startWave(){clearInterval(wave);wave=setInterval(ripple,4e3)}function killWave(e){clearInterval(wave);navbarSections.forEach((t,a)=>{if(a!==e){clearTimeout(crests[a]);rippleDown(t,names[a])}})}function navControl(e){var t=e.querySelector("span").getAttribute("data-section-id");var a=e.querySelector("span").getAttribute("data-section-name");killWave();navbar.classList.remove("active");navbarSections.forEach(e=>{e.classList.remove("active")});if(t===active_section){hideAllSections();track("Back to Home","#Home")}else{showSection(t);navbar.setAttribute("data-bg-color",e.getAttribute("data-bg-color"));navbar.setAttribute("data-open","true");navbar.classList.add("active");e.classList.add("active");document.getElementById("section-container").classList.add("active");history.pushState("","",`#${a}`);track(a)}}function showSection(e){var t=document.querySelector("head");if(t.querySelector("script").name===undefined){t.prepend(Object.assign(document.createElement("script"),{src:"js/smoothscroll.js",name:"ss_polyfill"}))}switch(e){case"id-work":if(active_work==="")break;document.querySelector(".work.active").classList.remove("active");document.getElementById(active_work).classList.add("hidden");active_work="";break;case"id-skills":document.querySelectorAll(".img-skill").forEach(e=>{e.src=e.getAttribute("data-src")});break;case"id-photos":closePhotoModal();genThumbnails();break;case"id-about":document.getElementById("me-jpg").src="assets/me.jpg";document.getElementById("me-gif").src="assets/me.gif";break}if(active_section===null){document.getElementById("hero").classList.add("minimize");setTimeout(()=>{document.getElementById(e).classList.remove("hidden")},1e3)}else{window.scroll({top:0,left:0,behavior:"smooth"});animateOut(`#${active_section}`,"fade-out-bottom",()=>{document.getElementById(e).classList.remove("hidden")})}active_section=e}function hideAllSections(){navbar.setAttribute("data-open","false");document.getElementById("section-container").classList.remove("active");document.getElementById("hero").classList.remove("minimize");killWave();ripple(1e3);startWave();history.pushState(null,null,window.location.pathname);animateOut("#"+active_section,"fade-out-bottom");active_section=null}function workPicker(e,t){if(active_work===t)return;var a=document.getElementById(t);if(active_work===""){a.classList.remove("hidden")}else{document.querySelector(".work.active").classList.remove("active");animateOut(`#${active_work}`,"fade-out-right",()=>{a.classList.remove("hidden")})}e.classList.add("active");active_work=t;if(window.innerWidth<=640){a.parentElement.scrollIntoView({behavior:"smooth"})}history.pushState("","",`#work?${t}`);track(`Work - ${t}`)}function track(e,t=false){if(typeof clicky==="undefined")return;clicky.log(t?t:window.location.hash,e)}function animateOut(e,t,a,o=500){var n=document.querySelector(e);n.classList.add(t);setTimeout(()=>{n.classList.remove(t);n.classList.add("hidden");if(a)a()},o,n,t,a)}function animateIn(e,t,a,o=500){var n=document.querySelector(e);n.classList.remove("hidden");n.classList.add(t);setTimeout(()=>{n.classList.remove(t)},o,n);if(a)a()}var debounced;function mobileViewportHack(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}window.addEventListener("resize",()=>{clearTimeout(debounced);debounced=setTimeout(mobileViewportHack,100)});mobileViewportHack();document.addEventListener("DOMContentLoaded",()=>{navbar=document.getElementById("navigation");navbarSections=navbar.querySelectorAll(".section-title");names=document.querySelectorAll("#hero span span");navbarSections.forEach((e,t)=>{e.addEventListener("mouseover",()=>{killWave(t);names[t].classList.add("wave")});e.addEventListener("mousemove",()=>{names[t].classList.add("wave")});e.addEventListener("mouseout",()=>{names[t].classList.remove("wave");if(active_section===null)startWave()})});ripple(1e3);startWave()},false);