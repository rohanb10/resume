var sections,wave,navbar,active_section="",active_work="";const NUMBER_OF_PHOTOS=30;document.addEventListener("DOMContentLoaded",function(){navbar=document.getElementById("navigation");sections=navbar.querySelectorAll(".section-title");ripple();startWave();for(var a=0;a<sections.length;a++){sections[a].onmouseover=function(){killWave()};sections[a].onmouseout=function(){if(navbar.classList.length===0){startWave()}}}},false);function ripple(){for(var a=0;a<sections.length;a++){setTimeout(rippleUp,150*a,sections[a]);setTimeout(rippleDown,(sections.length*150)+(200*a),sections[a])}}function rippleUp(a){a.classList.add("wave")}function rippleDown(a){a.classList.remove("wave")}function startWave(){clearInterval(wave);wave=setInterval(ripple,4000)}function killWave(){clearInterval(wave);for(var a=0;a<sections.length;a++){sections[a].classList.remove("wave")}}function sectionPicker(c,a){navbar.classList=[];killWave();if(!c.classList.contains("focused")){showSection(a);navbar.classList.add(c.classList[1]);for(var b=0;b<sections.length;b++){sections[b].classList.remove("focused")}c.classList.add("focused")}else{hideSection();startWave();c.classList.remove("focused")}}function hideSection(){fadeOut("#"+active_section);fadeIn("#hero",function(){window.scrollTo({top:0})});active_section=""}function showSection(b){if(b==="photos"){genThumbnails()}else{if(b==="about"){var a=new Image();a.src="assets/me.jpg";a.src="assets/me.gif"}}if(active_section!==""){document.getElementById(active_section).classList.add("hidden");active_section=""}fadeIn("#"+b,function(){document.getElementById("hero").classList.add("hidden")});active_section=b}function workPicker(b,c){var a=document.getElementById(c);if(active_work!==""){document.querySelector(".work.active").classList.remove("active");document.querySelector("#"+active_work).classList.add("hidden");active_work=""}b.classList.add("active");a.classList.remove("hidden");active_work=c;if(window.innerWidth<=640){a.parentElement.scrollIntoView({behavior:"smooth"})}}function genThumbnails(){const d=document.getElementById("thumbnail-container");d.innerHTML="";var c=[];for(var b=0;b<NUMBER_OF_PHOTOS;b++){c.push({index:b,thumb:"assets/photos/thumb/"+b+".jpg"})}c.sort(function(){return 0.5-Math.random()});for(var b=0;b<c.length;b++){var a='<div class="thumb" onClick="openPhotoModal(this, '+c[b].index+')"><img src="'+c[b].thumb+'"></div>';d.innerHTML+=a}}function openPhotoModal(a,b){document.querySelector(".photo-container").style.backgroundImage="url('assets/photos/"+b+".jpg')";document.querySelector(".caption").innerHTML=wrapCaption(CAPTIONS[b]);document.querySelector(".photo-modal").classList.remove("hidden");fadeIn(".modal-content");document.onkeydown=function(c){c=c||window.event;if(c.keyCode==27){closePhotoModal()}}}function wrapCaption(a){var b=a.lastIndexOf(",",a.lastIndexOf(",")-1)+1;return a.substr(0,b)+"<br>"+a.substr(b)}function closePhotoModal(){fadeOut(".modal-content",function(){document.querySelector(".photo-modal").classList.add("hidden");document.querySelector(".caption").innerHTML=""})}function fadeOut(a,c){var b=document.querySelector(a);b.classList.add("fade-out-bottom");setTimeout(function(){b.classList.remove("fade-out-bottom");b.classList.add("hidden");if(c){c()}},500,b,c)}function fadeIn(a,c){var b=document.querySelector(a);b.classList.remove("hidden");b.classList.add("fade-in-bottom");setTimeout(function(){b.classList.remove("fade-in-bottom")},500,b);if(c){c()}};