var navbar,navbarSections,active_section=null,active_work="",active_photo=null;history.pushState(null,null,window.location.pathname);window.addEventListener("popstate",()=>{navbarSections.forEach(e=>{e.classList.remove("active")});hideAllSections()});document.addEventListener("DOMContentLoaded",()=>{navbar=document.getElementById("navigation");navbarSections=navbar.querySelectorAll(".section-title");navbarSections.forEach(e=>{e.onmouseover=(()=>killWave());e.onmouseout=(()=>{if(active_section===null)startWave()})});ripple(1e3);startWave()},false);function rgbArray(e){e=e.substr(4).split(")")[0].split(",");return[parseInt(e[0]),parseInt(e[1]),parseInt(e[2])]}function transitionColorScheme(e,t){var a=document.documentElement.style;var o=[],n=[],i=[],r=0;var s=COLOR_SCHEMES[e].sort(()=>{return.5-Math.random()});s.forEach((e,t)=>{o.push(rgbArray(e));n.push(rgbArray(a.getPropertyValue(`--color-${t+1}`)))});n.forEach((e,n)=>{i[n]=setInterval(()=>{e.forEach((t,a)=>{e[a]=t>o[n][a]?t-1:t<o[n][a]?t+1:t});a.setProperty(`--color-${n+1}`,`rgb(${e[0]},${e[1]},${e[2]})`);if(e[0]===o[n][0]&&e[1]===o[n][1]&&e[2]===o[n][2]){clearInterval(i[n]);if(++r>=4&&t)t()}},1)})}const COLOR_SCHEMES={1:["rgb(247,200, 59)","rgb( 48,176,106)","rgb(109,193,197)","rgb(234, 67, 71)"],2:["rgb(240, 92,136)","rgb(111,125,246)","rgb(119,203,249)","rgb(255,168,  5)"],3:["rgb(222, 94, 94)","rgb( 69,182,239)","rgb( 66,179, 98)","rgb(223,168,255)"],4:["rgb(218, 73,107)","rgb( 77, 99,209)","rgb( 98,147, 55)","rgb(245,126,  9)"],5:["rgb(239,194,184)","rgb(149,187,217)","rgb(188,220,150)","rgb(238,222,151)"],6:["rgb(145, 48, 48)","rgb( 39, 90,119)","rgb( 36,107, 80)","rgb(194,129, 71)"]};function changeColorScheme(e=-1,t=true){if(e<=0||e>Object.keys(COLOR_SCHEMES).length)return"Please enter a valid index";e=e||Math.floor(Math.random()*Object.keys(COLOR_SCHEMES).length+1);var a=COLOR_SCHEMES[e];a=t?a.sort(()=>{return.5-Math.random()}):a;var o=document.documentElement;o.style.setProperty("--color-1",a[0]);o.style.setProperty("--color-2",a[1]);o.style.setProperty("--color-3",a[2]);o.style.setProperty("--color-4",a[3]);return e}var currentSchemeIndex=changeColorScheme(1);function changeColours(e){var t=document.documentElement;var a="New Colours: ";e.forEach((e,o)=>{e=`rgb(${+`0x${e[1]}${e[2]}`},${+`0x${e[3]}${e[4]}`},${+`0x${e[5]}${e[6]}`})`;t.style.setProperty(`--color-${o+1}`,e);a+=e+", "});currentSchemeIndex=-1;return a}console.log(`changeColours(['#AAAAAA', '#BBBBBB', '#CCCCCC', '#DDDDDD'])`);function bucket(e){if(e.parentElement.classList.contains("changing"))return;var t=currentSchemeIndex;while(t===currentSchemeIndex){t=Math.floor(Math.random()*Object.keys(COLOR_SCHEMES).length)+1}e.parentElement.classList.add("changing");setTimeout(()=>{e.parentElement.classList.remove("changing")},1500);if(active_section!==null){transitionColorScheme(t,()=>{ripple()})}else{var a=navbar.querySelector(".section-title.wave");killWave();setTimeout(()=>{currentSchemeIndex=changeColorScheme(t);ripple();startWave()},a?400:0)}currentSchemeIndex=t;track(`Colour Changed: ${t}`,"#bucket")}var wave,crests=[];function ripple(e=0){setTimeout(function(){navbarSections.forEach((e,t,a)=>{crests[t]=setTimeout(rippleUp,150*t,e);setTimeout(rippleDown,a.length*150+200*t,e)})},e)}function rippleUp(e){e.classList.add("wave")}function rippleDown(e){e.classList.remove("wave")}function startWave(){clearInterval(wave);wave=setInterval(ripple,4e3)}function killWave(){clearInterval(wave);navbarSections.forEach((e,t)=>{clearTimeout(crests[t]);rippleDown(e)})}function sectionPicker(e){var t=e.querySelector("span").getAttribute("data-section-id");var a=e.querySelector("span").getAttribute("data-section-name");killWave();navbar.classList.remove("active");navbarSections.forEach(e=>{e.classList.remove("active")});if(t===active_section){hideAllSections();track("Back to Home","#Home")}else{showSection(t);navbar.setAttribute("data-bg-color",e.getAttribute("data-bg-color"));navbar.setAttribute("data-open","true");navbar.classList.add("active");e.classList.add("active");document.getElementById("section-container").classList.add("active");history.pushState("","",`#${a}`);track(a)}}function hideAllSections(){navbar.setAttribute("data-open","false");document.getElementById("section-container").classList.remove("active");document.getElementById("hero").classList.remove("minimize");killWave();ripple(1e3);startWave();history.pushState(null,null,window.location.pathname);animateOut("#"+active_section,"fade-out-bottom");active_section=null}function showSection(e){switch(e){case"id-work":if(active_work==="")break;document.querySelector(".work.active").classList.remove("active");document.getElementById(active_work).classList.add("hidden");active_work="";break;case"id-skills":document.querySelectorAll(".img-skill").forEach(e=>{e.src=e.getAttribute("data-src")});break;case"id-photos":closePhotoModal();genThumbnails();break;case"id-about":document.getElementById("me-jpg").src="assets/me.jpg";document.getElementById("me-gif").src="assets/me.gif";break}if(active_section===null){document.getElementById("hero").classList.add("minimize");setTimeout(()=>{document.getElementById(e).classList.remove("hidden")},1e3)}else{window.scroll({top:0,left:0,behavior:"smooth"});animateOut(`#${active_section}`,"fade-out-bottom",()=>{document.getElementById(e).classList.remove("hidden")})}active_section=e}function workPicker(e,t){if(active_work===t)return;var a=document.getElementById(t);if(active_work===""){a.classList.remove("hidden")}else{document.querySelector(".work.active").classList.remove("active");animateOut(`#${active_work}`,"fade-out-right",()=>{a.classList.remove("hidden")})}e.classList.add("active");active_work=t;if(window.innerWidth<=640){window.scroll({top:document.querySelector(`#${active_section} .left-col`).scrollHeight,left:0,behavior:"smooth"})}history.pushState("","",`#work?${t}`);track(`Work - ${t}`)}function genThumbnails(){const e=document.getElementById("thumbnail-container");const t=2e3;var a=[];e.innerHTML="";PHOTOS.sort(()=>{return.5-Math.random()});PHOTOS.forEach((a,o)=>{var n=Object.assign(document.createElement("div"),{className:"thumb fade-in-up",style:`animation-delay: ${o<15?t+parseInt(o*100):0}ms`,onclick:()=>openPhotoModal(o)});var i=Object.assign(document.createElement("div"),{className:"placeholder",style:`background-color: ${a.bg}`});n.appendChild(i);var r=Object.assign(document.createElement("img"),{src:`assets/photos/thumb/${a.index}.jpg`,onload:()=>{i.style.opacity=0;setTimeout(()=>{i.style.display="none"},500)},onerror:()=>{i.style.display="none"}});r.onmouseover=(()=>{setTimeout(()=>{r.addEventListener("mousemove",panZoom,false,this)},300)});r.onmouseout=(()=>{r.removeEventListener("mousemove",panZoom)});n.appendChild(r);e.appendChild(n)})}function panZoom(e){e.target.style.transformOrigin=`${e.offsetX}px ${e.offsetY}px`}function openPhotoModal(e){loadPhoto(e);animateIn(".photo-modal","slide-in-up",null,500);document.addEventListener("keydown",function e(t){if(t.keyCode===27){closePhotoModal();document.removeEventListener("keydown",e)}})}function loadPhoto(e,t=0){Object.assign(document.createElement("img"),{src:`assets/photos/${PHOTOS[e].index}.jpg`,onload:()=>{setTimeout(()=>{document.querySelector(".photo-container").style.backgroundImage=`url('assets/photos/${PHOTOS[e].index}.jpg')`;endLoadingAnimation();track(identifyPhoto(PHOTOS[e].caption))},t)},onerror:()=>{endLoadingAnimation()}});history.pushState("","",`#photos?${e+1}`);document.querySelector(".caption").innerHTML=formatCaptions(PHOTOS[e].caption);active_photo=e;var a=document.querySelector(".modal-next-btn");var o=document.querySelector(".modal-prev-btn");if(active_photo+1>=PHOTOS.length){a.classList.add("disabled")}else if(active_photo<=0){o.classList.add("disabled")}else{a.classList.remove("disabled");o.classList.remove("disabled")}}function nextPhoto(){if(active_photo+1>=PHOTOS.length)return;active_photo++;startLoadingAnimation(true);loadPhoto(active_photo,500)}function prevPhoto(){if(active_photo<=0)return;active_photo--;startLoadingAnimation(true);loadPhoto(active_photo,500)}function endLoadingAnimation(){var e=document.querySelector(".modal-content");var t=e.querySelectorAll(".bar");var a=t.length;var o=0;var n=[];var i=setTimeout(()=>{t.forEach((e,t)=>{n[t]=setTimeout(()=>{e.classList.add("done")},t*100)});setTimeout(()=>{e.classList.add("loaded")},500)},3e3);t.forEach((t,r)=>{t.addEventListener("animationiteration",function s(c){if(r===0||o>0){c.target.classList.add("done");o++;t.removeEventListener("animationiteration",s);clearTimeout(n[r])}if(o>=a){setTimeout(()=>{e.classList.add("loaded");clearTimeout(i)},500)}})})}function startLoadingAnimation(e=false){var t=document.querySelector(".modal-content");t.classList.remove("loaded");if(e){t.classList.add("no-staggered-delays")}else{t.classList.remove("no-staggered-delays")}t.querySelectorAll(".bar").forEach((e,t)=>{setTimeout(()=>{e.classList.remove("done")},t*100)})}function formatCaptions(e){var t=e.lastIndexOf(",",e.lastIndexOf(",")-1)+1;return e.substr(0,t)+"<br>"+e.substr(t)}function identifyPhoto(e){if(e.substr(0,e.indexOf(",")).indexOf("Park")>=0||e.indexOf(",")<=12)return e.substr(0,e.indexOf(","));var t=e.indexOf(" ");while(t<12){t=e.indexOf(" ",t+1);if(e.indexOf(",")<=t)return e.substr(0,e.indexOf(","))}return e.substr(0,t)}function closePhotoModal(){animateOut(".photo-modal","slide-out-bottom",()=>{document.querySelector(".photo-container").style.backgroundImage="";document.querySelector(".caption").innerHTML="";startLoadingAnimation()});history.pushState("","","#photos")}function track(e,t=false){if(typeof clicky==="undefined")return;clicky.log(t?t:window.location.hash,e)}function animateOut(e,t,a,o=500){var n=document.querySelector(e);n.classList.add(t);setTimeout(()=>{n.classList.remove(t);n.classList.add("hidden");if(a)a()},o,n,t,a)}function animateIn(e,t,a,o=500){var n=document.querySelector(e);n.classList.remove("hidden");n.classList.add(t);setTimeout(()=>{n.classList.remove(t)},o,n);if(a)a()}const PHOTOS=[{index:0,bg:"#89979A",caption:"Kangchendzonga National Park, Sikkim, India"},{index:1,bg:"#6D86B8",caption:"Half Dome from Glacier Point, Yosemite National Park, California"},{index:2,bg:"#82B0D8",caption:"Blue Lake, Inyo National Forest, California"},{index:3,bg:"#B36F3C",caption:"Lakes Trail, Kings Canyon National Park, California"},{index:4,bg:"#2F343B",caption:"Horsetooth Mountain, Fort Collins, Colorado"},{index:5,bg:"#B8C9CC",caption:"Dolores Park, Mission, San Francisco, California"},{index:6,bg:"#8B6151",caption:"Kaibab National Forest, Grand Canyon, Arizona"},{index:7,bg:"#6C7971",caption:"Perugia, Cambria, Italy"},{index:8,bg:"#B26542",caption:"Alghero, Sardinia, Italy"},{index:9,bg:"#5E6C3C",caption:"Rifugio Menaggio, Lake Como, Italy"},{index:10,bg:"#5575C0",caption:"Puez-Geisler National Park, South Tyrol, Italy"},{index:11,bg:"#486BA1",caption:"Peak of Monte Grona, Lake Como, Italy"},{index:12,bg:"#7082A2",caption:"Puez-Geisler National Park, South Tyrol, Italy"},{index:13,bg:"#ADB9D1",caption:"Vembanad Lake, Cochin, Kerala, India"},{index:14,bg:"#6A723E",caption:"Angel Island State Park, San Francisco Bay, California"},{index:15,bg:"#8A7C4C",caption:"Soberanes Point, Carmel, Monterey, California"},{index:16,bg:"#EC965C",caption:"West Point Lighthouse, Discovery Park, Seattle, Washington"},{index:17,bg:"#D6D3CE",caption:"Wallace Falls State Park, Snohomish County, Washington"},{index:18,bg:"#9C7E52",caption:"Laguna Creek Beach, Santa Cruz, California"},{index:19,bg:"#CBAC86",caption:"Tent Rocks National Monument, Sandoval County, New Mexico"},{index:20,bg:"#454934",caption:"Gennargentu National Park, Cala Ganone, Sardinia, Italy"},{index:21,bg:"#94ABBD",caption:"McLaren Park, San Francisco, California"},{index:22,bg:"#2F3411",caption:"Angel Island State Park, San Francisco Bay, California"},{index:23,bg:"#A73E28",caption:"Prewitt Ridge, Big Sur, California"},{index:24,bg:"#536C8B",caption:"Yosemite Falls Trail, Yosemite National Park, California"},{index:25,bg:"#808B63",caption:"Kangchendzonga National Park, Sikkim, India"},{index:26,bg:"#546420",caption:"Briones Regional Park, Lafayette, California"},{index:27,bg:"#D8DEE0",caption:"Mendocino Headlands State Park, Mendocino, California"},{index:28,bg:"#709BC3",caption:"Four Mile Trail, Yosemite National Park, California"},{index:29,bg:"#E9906E",caption:"Shilshole Bay, Ballard, Seattle, Washington"}];