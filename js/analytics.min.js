var _analytics=function(t){"use strict";var r=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r};var e=function(t){if(Array.isArray(t))return r(t)};var n=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)};var a=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}};var o=function(){throw new TypeError(".\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var U=function(t){return e(t)||n(t)||a(t)||o()};function i(t,e){return t(e={exports:{}},e.exports),e.exports}var $=i(function(e){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(t){return typeof t}:e.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}e.exports=n});var d=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t};function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var G=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e};function c(t,e,n,r,a,o){if("undefined"!=typeof window)return 1<arguments.length?document.cookie=t+"="+encodeURIComponent(e)+(n?"; expires="+new Date(+new Date+1e3*n).toUTCString()+(r?"; path="+r:"")+(a?"; domain="+a:"")+(o?"; secure":""):""):decodeURIComponent((("; "+document.cookie).split("; "+t+"=")[1]||"").split(";")[0])}var s=c,l=c;function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(e){var n;try{void 0===(n=JSON.parse(e))&&(n=e),"true"===n&&(n=!0),"false"===n&&(n=!1),parseFloat(n)===n&&"object"!==f(n)&&(n=parseFloat(n))}catch(t){n=e}return n}function h(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==this?this:{}}var m="localStorage",y="cookie",g="global",v=!1,b=function(){try{c("_c_","1");var t=-1!==document.cookie.indexOf("_c_");return c("_c_","",-1),t}catch(t){return!1}}();function w(t){return"string"==typeof t?t:t.storage}function S(t){return v&&(!t||t===m)}function x(t){return b&&(!t||t===y)}var B={getItem:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!t)return null;var n,r=w(e);if("all"===r)return{cookie:p(s(n=t)),localStorage:p(localStorage.getItem(n)),global:h[n]||null};if(S(r)){var a=localStorage.getItem(t);if(a||r===m)return p(a)}if(x(r)){var o=s(t);if(o||r===y)return p(o)}return h[t]||null},setItem:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!t||!e)return!1;var r=w(n),a=JSON.stringify(e);if(S(r)){var o=p(localStorage.getItem(t));return localStorage.setItem(t,a),{value:e,oldValue:o,location:m}}if(x(r)){var i=p(s(t));return l(t,a),{value:e,oldValue:i,location:y}}var u=h[t];return{value:h[t]=e,oldValue:u,location:g}},removeItem:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!t)return!1;var n=w(e);return S(n)?(localStorage.removeItem(t),m):x(n)?(c(t,"",-1),y):(h[t]=null,g)}};function J(t,e,n,r,a){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:a;return t===a?n:t}function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t){return"function"==typeof t}function W(t){return"string"==typeof t}function Y(t){if("object"!==E(t)||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function I(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}var H="undefined"!=typeof document;function Z(t){var e=function(t){if(t){var e=t.match(/\?(.*)/);return e&&e[1]?e[1].split("#")[0]:""}return H&&window.location.search.substring(1)}(t);return e?function(t){var e,n=/([^&=]+)=?([^&]*)/g,r={};for(;e=n.exec(t);){var a=I(e[1]),o=I(e[2]);if("[]"===a.substring(a.length-2))a=a.substring(0,a.length-2),(r[a]||(r[a]=[])).push(o);else{var i=""===o||o;r[a]=i}}for(var u in r){var c=u.split("[");if(1<c.length){var s=[];c.forEach(function(t,e){var n=t.replace(/[?[\]\\ ]/g,"");s.push(n)}),O(r,s,r[u]),delete r[u]}}return r}(e):{}}function O(t,e,n){for(var r=e.length-1,a=0;a<r;++a){var o=e[a];o in t||(t[o]={}),t=t[o]}t[e[r]]=n}function k(){for(var t,e,n,r,a=[],o=0;o<256;o++)a[o]=(o<16?"0":"")+o.toString(16);return t=_(),e=_(),n=_(),r=_(),"".concat(a[255&t]+a[t>>8&255]+a[t>>16&255]+a[t>>24&255],"-").concat(a[255&e]).concat(a[e>>8&255],"-").concat(a[e>>16&15|64]).concat(a[e>>24&255],"-").concat(a[63&n|128]).concat(a[n>>8&255],"-").concat(a[n>>16&255]).concat(a[n>>24&255]).concat(a[255&r]).concat(a[r>>8&255]).concat(a[r>>16&255]).concat(a[r>>24&255])}function _(){return 4294967295*Math.random()|0}var P="function",j="undefined",N="reducer",A="@@redux/",T=A+"INIT",L=A+Math.random().toString(36),M=function(){return("undefined"==typeof Symbol?"undefined":$(Symbol))===P&&Symbol.observable||"@@observable"}(),z=" != "+P;function K(t,e,n){if($(e)===P&&$(n)===j&&(n=e,e=void 0),$(n)!==j){if($(n)!==P)throw new Error("enhancer"+z);return n(K)(t,e)}if($(t)!==P)throw new Error(N+z);var r=t,a=e,o=[],i=o,u=!1;function c(){i===o&&(i=o.slice())}function s(){return a}function l(e){if($(e)!==P)throw new Error("Listener"+z);var n=!0;return c(),i.push(e),function(){if(n){n=!1,c();var t=i.indexOf(e);i.splice(t,1)}}}function f(t){if(!Y(t))throw new Error("Act != obj");if($(t.type)===j)throw new Error("ActType "+j);if(u)throw new Error("Dispatch in "+N);try{u=!0,a=r(a,t)}finally{u=!1}for(var e=o=i,n=0;n<e.length;n++){(0,e[n])()}return t}return f({type:T}),d({dispatch:f,subscribe:l,getState:s,replaceReducer:function(t){if($(t)!==P)throw new Error("next "+N+z);r=t,f({type:T})}},M,function(){var n=l;return d({subscribe:function(t){if("object"!==$(t))throw new TypeError("Observer != obj");function e(){t.next&&t.next(s())}return e(),{unsubscribe:n(e)}}},M,function(){return this})})}function Q(t){for(var e=Object.keys(t),d={},n=0;n<e.length;n++){var r=e[n];$(t[r])===P&&(d[r]=t[r])}var h,a,m=Object.keys(d);try{a=d,Object.keys(a).forEach(function(t){var e=a[t],n=e(void 0,{type:T});if($(n)===j||$(e(void 0,{type:L}))===j)throw new Error(N+" "+t+" "+j)})}catch(t){h=t}return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0;if(h)throw h;for(var n,r,a,o=!1,i={},u=0;u<m.length;u++){var c=m[u],s=d[c],l=t[c],f=s(l,e);if($(f)===j){var p=(n=c,a=void 0,"action "+((a=(r=e)&&r.type)&&a.toString()||"?")+N+" "+n+" returns "+j);throw new Error(p)}i[c]=f,o=o||f!==l}return o?i:t}}function tt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}var et=["bootstrap","params","campaign","initializeStart","initialize","initializeEnd","ready","resetStart","reset","resetEnd","pageStart","page","pageEnd","pageAborted","trackStart","track","trackEnd","trackAborted","identifyStart","identify","identifyEnd","identifyAborted","userIdChanged","registerPlugins","enablePlugin","disablePlugin","loadPlugin","online","offline","setItemStart","setItem","setItemEnd","setItemAborted","removeItemStart","removeItem","removeItemEnd","removeItemAborted"],nt=["name","EVENTS","config","loaded"],rt=et.reduce(function(t,e){return t[e]=e,t},{registerPluginType:function(t){return"registerPlugin:".concat(t)},pluginReadyType:function(t){return"ready:".concat(t)}});var at="__anon_id",ot="__user_id",it="__user_traits",D=Object.freeze({ANON_ID:at,USER_ID:ot,USER_TRAITS:it}),ut=/^utm_/,ct=/^an_prop_/,st=/^an_trait_/;var lt=i(function(t){var e=function(i){var c,t=Object.prototype,l=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},a=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function u(t,e,n,r){var o,i,u,c,a=e&&e.prototype instanceof g?e:g,s=Object.create(a.prototype),l=new _(r||[]);return s._invoke=(o=t,i=n,u=l,c=p,function(t,e){if(c===h)throw new Error("");if(c===m){if("throw"===t)throw e;return j()}for(u.method=t,u.arg=e;;){var n=u.delegate;if(n){var r=I(n,u);if(r){if(r===y)continue;return r}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(c===p)throw c=m,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);c=h;var a=f(o,i,u);if("normal"===a.type){if(c=u.done?m:d,a.arg===y)continue;return{value:a.arg,done:u.done}}"throw"===a.type&&(c=m,u.method="throw",u.arg=a.arg)}}),s}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}i.wrap=u;var p="suspendedStart",d="suspendedYield",h="executing",m="completed",y={};function g(){}function o(){}function s(){}var v={};v[a]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(P([])));w&&w!==t&&l.call(w,a)&&(v=w);var S=s.prototype=g.prototype=Object.create(v);function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function E(c,s){var e;this._invoke=function(n,r){function t(){return new s(function(t,e){!function e(t,n,r,a){var o=f(c[t],c,n);if("throw"!==o.type){var i=o.arg,u=i.value;return u&&"object"==typeof u&&l.call(u,"__await")?s.resolve(u.__await).then(function(t){e("next",t,r,a)},function(t){e("throw",t,r,a)}):s.resolve(u).then(function(t){i.value=t,r(i)},function(t){return e("throw",t,r,a)})}a(o.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function I(t,e){var n=t.iterator[e.method];if(n===c){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=c,I(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("")}return y}var r=f(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,y;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,y):a:(e.method="throw",e.arg=new TypeError(""),e.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=c,t.done=!0,t};return r.next=r}}return{next:j}}function j(){return{value:c,done:!0}}return o.prototype=S.constructor=s,s.constructor=o,s[r]=o.displayName="GeneratorFunction",i.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,r in t||(t[r]="GeneratorFunction")),t.prototype=Object.create(S),t},i.awrap=function(t){return{__await:t}},x(E.prototype),E.prototype[n]=function(){return this},i.AsyncIterator=E,i.async=function(t,e,n,r,a){void 0===a&&(a=Promise);var o=new E(u(t,e,n,r),a);return i.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},x(S),S[r]="Generator",S[a]=function(){return this},S.toString=function(){return"[object Generator]"},i.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var a=this.tryEntries[e],o=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var i=l.call(a,"catchLoc"),u=l.call(a,"finallyLoc");if(i&&u){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!u)throw new Error("");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=c),y}},i}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}});function V(t,e,n,r,a,o,i){try{var u=t[o](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,a)}var ft=function(u){return function(){var t=this,i=arguments;return new Promise(function(e,n){var r=u.apply(t,i);function a(t){V(r,e,n,a,o,"next",t)}function o(t){V(r,e,n,a,o,"throw",t)}a(void 0)})}};function pt(a,o,i){return new Promise(function(e,n){return o()?e(a):i<1?n(G(G({},a),{},{queue:!0})):(r=10,new Promise(function(t){return setTimeout(t,r)})).then(function(t){return pt(a,o,i-10).then(e,n)});var r})}var q="analytics",dt="userId",ht="anonymousId";function mt(u,t,c){var s=t(),e=u.getState(),l=e.plugins,n=e.context,f=e.queue,p=e.user;if(!n.offline&&f&&f.actions&&f.actions.length){var r=f.actions.reduce(function(t,e,n){return l[e.plugin].loaded?(t.process.push(e),t.processIndex.push(n)):(t.requeue.push(e),t.requeueIndex.push(n)),t},{processIndex:[],process:[],requeue:[],requeueIndex:[]});if(r.processIndex&&r.processIndex.length){r.processIndex.forEach(function(t){var e=f.actions[t],n=e.plugin,r=e.payload.type,a=s[n][r];if(a&&X(a)){var o=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return[dt,ht].reduce(function(t,e){return function(t,e,n){if(t.hasOwnProperty(n)&&!t[n]&&e[n])return Object.assign({},t,d({},"".concat(n),e[n]));return t}(t,n,e)},t)}(e.payload,p);a({payload:o,config:l[n].config,instance:c});var i="".concat(r,":").concat(n);u.dispatch(G(G({},o),{},{type:i,_:{called:i,from:"queueDrain"}}))}});var a=f.actions.filter(function(t,e){return!~r.processIndex.indexOf(e)});f.actions=a}}}var C=function(t){if(Array.isArray(t))return t};var R=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return n}};var F=function(){throw new TypeError(".\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var yt=function(t,e){return C(t)||R(t,e)||a(t,e)||F()};function gt(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(e).filter(function(t){var e=r.plugins||{};return!1!==e[t]&&(!0===e[t]||!1!==e.all&&(!n[t]||!1!==n[t].enabled))}).map(function(t){return e[t]})}var vt=/Start$/,bt=/^bootstrap/,wt=/^ready/;function St(t,e,n,r,a){return xt.apply(this,arguments)}function xt(){return(xt=ft(lt.mark(function t(e,n,r,a,o){var i,u,c,s,l,f,p,d,h,m,y,g;return lt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=X(n)?n():n,u=e.type,c=u.replace(vt,""),e._&&e._.called)return t.abrupt("return",e);t.next=5;break;case 5:return s=r.getState(),l=gt(i,s.plugins,e.options),f=l.map(function(t){return t.name}),p=Nt(u,l,i),t.next=11,It({action:e,data:{exact:p.before,namespaced:p.beforeNS},state:s,allPlugins:i,allMatches:p,instance:r,store:a,EVENTS:o});case 11:if(Tt(d=t.sent,f.length))return t.abrupt("return",d);t.next=14;break;case 14:if(u!==c){t.next=18;break}h=d,t.next=21;break;case 18:return t.next=20,It({action:G(G({},d),{},{type:c}),data:{exact:p.during,namespaced:p.duringNS},state:s,allPlugins:i,allMatches:p,instance:r,store:a,EVENTS:o});case 20:h=t.sent;case 21:if(u.match(vt))return m="".concat(c,"End"),t.next=25,It({action:G(G({},h),{},{type:m}),data:{exact:p.after,namespaced:p.afterNS},state:s,allPlugins:i,allMatches:p,instance:r,store:a,EVENTS:o});t.next=28;break;case 25:y=t.sent,(g=Et(y))&&g({payload:y});case 28:return t.abrupt("return",d);case 29:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Et(r){return!!r.meta&&Object.keys(r.meta).reduce(function(t,e){var n=r.meta[e];return X(n)?n:t},!1)}function It(t){return Ot.apply(this,arguments)}function Ot(){return(Ot=ft(lt.mark(function t(e){var y,i,g,n,v,r,b,a,w,o,S,x,u,E,I,O,c,s;return lt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return y=e.data,i=e.action,g=e.instance,n=e.state,v=e.allPlugins,r=e.allMatches,b=e.store,a=e.EVENTS,w=n.plugins,o=n.context,S=i.type,x=S.match(vt),u=y.exact.map(function(t){return t.pluginName}),x&&(u=r.during.map(function(t){return t.pluginName})),E=zt(g,u),I=y.exact.reduce(function(t,e){var n=e.pluginName,r=e.methodName,a=!1;return r.match(/^initialize/)||r.match(/^reset/)||(a=!w[n].loaded),o.offline&&r.match(/^(page|track|identify)/)&&(a=!0),t["".concat(n)]=a,t},{}),t.next=10,y.exact.reduce(function(){var r=ft(lt.mark(function t(e,n,r){var c,a,o;return lt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.pluginName,t.next=3,e;case 3:if(a=t.sent,y.namespaced&&y.namespaced[c])return t.next=7,y.namespaced[c].reduce(function(){var r=ft(lt.mark(function t(e,n,r){var a,o,i,u;return lt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(r,a,o){return function(t,e){var n=o||a;return G(G({},r),{},{abort:{reason:t,plugins:e||[a],caller:S,from:n}})}},t.next=3,e;case 3:if(a=t.sent,n.method&&X(n.method)){t.next=6;break}return t.abrupt("return",a);case 6:return Dt(n.methodName,n.pluginName),t.next=9,n.method({payload:a,instance:g,abort:o(a,c,n.pluginName),config:_t(n.pluginName,w,v),plugins:w});case 9:return i=t.sent,u=Y(i)?i:{},t.abrupt("return",Promise.resolve(G(G({},a),u)));case 12:case"end":return t.stop()}},t)}));return function(t,e,n){return r.apply(this,arguments)}}(),Promise.resolve(i));t.next=11;break;case 7:o=t.sent,a[c]=o,t.next=12;break;case 11:a[c]=i;case 12:return t.abrupt("return",Promise.resolve(a));case 13:case"end":return t.stop()}},t)}));return function(t,e,n){return r.apply(this,arguments)}}(),Promise.resolve({}));case 10:return O=t.sent,t.next=13,y.exact.reduce(function(){var r=ft(lt.mark(function t(e,n,r){var a,o,i,u,c,s,l,f,p,d,h,m;return lt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=y.exact.length===r+1,o=n.pluginName,i=v[o],t.next=5,e;case 5:if(u=t.sent,c=O[o]?O[o]:{},x&&(c=u),At(c,o))return kt({data:c,method:S,instance:g,pluginName:o,store:b}),t.abrupt("return",Promise.resolve(u));t.next=11;break;case 11:if(At(u,o))return a&&kt({data:u,method:S,instance:g,store:b}),t.abrupt("return",Promise.resolve(u));t.next=14;break;case 14:if(I.hasOwnProperty(o)&&!0===I[o])return b.dispatch({type:"queue",plugin:o,payload:c,_:{called:"queue",from:"queueMechanism"}}),t.abrupt("return",Promise.resolve(u));t.next=17;break;case 17:return s=E(O[o],v[o]),t.next=20,i[S]({hello:o,abort:s.abort,payload:c,instance:g,config:_t(o,w,v),plugins:w});case 20:return l=t.sent,f=Y(l)?l:{},p=G(G({},u),f),At(d=O[o],o)?kt({data:d,method:S,instance:g,pluginName:o,store:b}):(h="".concat(S,":").concat(o),(h.match(/:/g)||[]).length<2&&!S.match(bt)&&!S.match(wt)&&(m=x?p:c,g.dispatch(G(G({},m),{},{type:h,_:{called:h,from:"submethod"}})))),t.abrupt("return",Promise.resolve(p));case 26:case"end":return t.stop()}},t)}));return function(t,e,n){return r.apply(this,arguments)}}(),Promise.resolve(i));case 13:if(c=t.sent,S.match(vt)||S.match(/^registerPlugin/)||S.match(wt)||S.match(bt)||S.match(/^params/)||S.match(/^userIdChanged/)){t.next=21;break}if(a.plugins.includes(S),c._&&c._.originalAction===S)return t.abrupt("return",c);t.next=18;break;case 18:s=G(G({},c),{_:{originalAction:c.type,called:c.type,from:"engineEnd"}}),Tt(c,y.exact.length)&&!S.match(/End$/)&&(s=G(G({},s),{type:c.type+"Aborted"})),b.dispatch(s);case 21:return t.abrupt("return",c);case 22:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kt(t){var e=t.data,n=t.method,r=(t.instance,t.pluginName),a=n+"Aborted"+(r?":"+r:"");t.store.dispatch(G(G({},e),{},{type:a,_:{called:a,from:"abort"}}))}function _t(t,e,n){var r=e[t]||n[t];return r&&r.config?r.config:{}}function Pt(n,t){return t.reduce(function(t,e){return e[n]?t.concat({methodName:n,pluginName:e.name,method:e[n]}):t},[])}function jt(t,e){var n=t.replace(vt,""),r=e?":".concat(e):"";return["".concat(t).concat(r),"".concat(n).concat(r),"".concat(n,"End").concat(r)]}function Nt(c,s,t){var e=jt(c).map(function(t){return Pt(t,s)});return s.reduce(function(t,e){var n=e.name,r=jt(c,n).map(function(t){return Pt(t,s)}),a=yt(r,3),o=a[0],i=a[1],u=a[2];return o.length&&(t.beforeNS[n]=o),i.length&&(t.duringNS[n]=i),u.length&&(t.afterNS[n]=u),t},{before:e[0],beforeNS:{},during:e[1],duringNS:{},after:e[2],afterNS:{}})}function At(t,e){var n=t.abort;return!!n&&(!0===n||(Mt(n,e)||n&&Mt(n.plugins,e)))}function Tt(t,e){var n=t.abort;if(!n)return!1;if(!0===n||W(n))return!0;var r=n.plugins;return Lt(n)&&n.length===e||Lt(r)&&r.length===e}function Lt(t){return Array.isArray(t)}function Mt(t,e){return!(!t||!Lt(t))&&t.includes(e)}function zt(m,y){return function(t,e,n){var r=e.config,a=e.name,o="".concat(a,".").concat(t.type);n&&(o=n.event);var i,u,c,s,l,f,p,d,h=t.type.match(vt)?(c=a,s=o,l=y,f=n,p=t,function(t,e){var n=f?f.name:c,r=e&&Lt(e)?e:l;if(f&&(!(r=e&&Lt(e)?e:[c]).includes(c)||1!==r.length))throw new Error("Method ".concat(s," can only abort ").concat(c," plugin. ").concat(JSON.stringify(r)," input valid"));return G(G({},p),{},{abort:{reason:t,plugins:r,caller:s,_:n}})}):(i=t,u=o,function(){throw new Error(i.type+" action not cancellable. Remove abort in "+u)});return{payload:(d=t,Object.keys(d).reduce(function(t,e){return"type"===e||(Y(d[e])?t[e]=Object.assign({},d[e]):t[e]=d[e]),t},{})),instance:m,config:r||{},abort:h}}}function Dt(t,e){var n=Vt(t);if(n&&n.name===e){var r=Vt(n.method),a=r?"or "+r.method:"";throw new Error([e+" plugin is calling method "+t,"Plugins cant call themselves","Use ".concat(n.method," ").concat(a," in ").concat(e," plugin insteadof ").concat(t)].join("\n"))}}function Vt(t){var e=t.match(/(.*):(.*)/);return!!e&&{method:e[1],name:e[2]}}function qt(){return(new Date).getTime()}var Ct=function(t,e){if(!(t instanceof e))throw new TypeError("")},Rt=function t(){var i=this;Ct(this,t),d(this,"before",[]),d(this,"after",[]),d(this,"addMiddleware",function(t,e){i[e]=i[e].concat(t)}),d(this,"removeMiddleware",function(e,t){var n=i[t].findIndex(function(t){return t===e});-1!==n&&(i[t]=[].concat(U(i[t].slice(0,n)),U(i[t].slice(n+1))))}),d(this,"dynamicMiddlewares",function(o){return function(a){return function(r){return function(t){var e={getState:a.getState,dispatch:function(t){return a.dispatch(t)}},n=i[o].map(function(t){return t(e)});return tt.apply(void 0,U(n))(r)(t)}}}})},Ft={};var Ut,$t,Gt,Bt;Ut=function(){if(!H)return!1;var t=navigator.appVersion;return~t.indexOf("Win")?"Windows":~t.indexOf("Mac")?"MacOS":~t.indexOf("X11")?"UNIX":~t.indexOf("Linux")?"Linux":"Unknown OS"}(),$t=H?document.referrer:null,Gt=function(){if(!H)return null;var t=navigator,e=t.language,n=t.languages,r=t.userLanguage;return n&&n.length?n[0]:r||e}(),Bt="undefined"==typeof Intl||"function"!=typeof Intl.DateTimeFormat||"function"!=typeof Intl.DateTimeFormat().resolvedOptions?null:Intl.DateTimeFormat().resolvedOptions().timeZone;var Jt={initialized:!1,sessionId:k(),app:null,version:null,debug:!1,offline:!!H&&!navigator.onLine,os:{name:Ut},userAgent:H?navigator.userAgent:"node",library:{name:q,version:"0.4.0"},timezone:Bt,locale:Gt,campaign:{},referrer:$t};function Xt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Jt,e=1<arguments.length?arguments[1]:void 0,n=t.initialized,r=e.type,a=e.campaign;switch(r){case rt.campaign:return G(G({},t),{campaign:a});case rt.offline:return G(G({},t),{offline:!0});case rt.online:return G(G({},t),{offline:!1});default:return n?t:G(G(G({},Jt),t),{initialized:!0})}}function Wt(t){var e=t;try{e=JSON.parse(JSON.stringify(t))}catch(t){}return e}var Yt=/#.*$/;function Ht(t){var e=function(){if(H)for(var t,e=document.getElementsByTagName("link"),n=0;t=e[n];n++)if("canonical"===t.getAttribute("rel"))return t.getAttribute("href")}();return e?e.match(/\?/)?e:e+t:window.location.href.replace(Yt,"")}var Zt=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!H)return t;var e,n,r=document,a=r.title,o=r.referrer,i=window,u=i.location,c=i.innerWidth,s=i.innerHeight,l=u.hash,f=u.search,p=Ht(f),d={title:a,url:p,path:(e=p,n=/(http[s]?:\/\/)?([^\/\s]+\/)(.*)/g.exec(e),"/"+(n&&n[3]?n[3].split("?")[0].replace(Yt,""):"")),hash:l,search:f,width:c,height:s};return o&&""!==o&&(d.referrer=o),G(G({},d),t)},Kt={last:{},history:[]};function Qt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Kt,e=1<arguments.length?arguments[1]:void 0,n=e.properties,r=e.options,a=e.meta;switch(e.type){case rt.page:var o=Wt(G({properties:n,meta:a},Object.keys(r).length&&{options:r}));return G(G({},t),{last:o,history:t.history.concat(o)});default:return t}}var te={last:{},history:[]};function ee(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:te,e=1<arguments.length?arguments[1]:void 0,n=e.type,r=e.meta,a=e.options,o=e.event,i=e.properties;switch(n){case rt.track:var u=Wt(G(G({event:o,properties:i},Object.keys(a).length&&{options:a}),{},{meta:r}));return G(G({},t),{last:u,history:t.history.concat(u)});default:return t}}var ne={actions:[]};function re(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:ne,e=1<arguments.length?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case"queue":var a;return a=r&&r.type&&r.type===rt.identify?[e].concat(t.actions):t.actions.concat(e),G(G({},t),{},{actions:a});case"dequeue":return[];default:return t}}var ae="object"===("undefined"==typeof self?"undefined":$(self))&&self.self===self&&self||"object"===("undefined"==typeof global?"undefined":$(global))&&global.global===global&&global||void 0;function oe(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0;if(e&&e.type===rt.setItemEnd&&e.key===at)return Object.assign({},t,{anonymousId:e.value});switch(e.type){case rt.identify:return Object.assign({},t,{userId:e.userId,traits:G(G({},t.traits),e.traits)});case rt.reset:return[dt,ht,"traits"].map(function(t){ae[ue(t)]=null}),[ot,at,it].map(function(t){B.removeItem(t)}),Object.assign({},t,{userId:null,anonymousId:null,traits:{}});default:return t}}function ie(t){return{userId:B.getItem(ot)||t.an_uid,anonymousId:B.getItem(at)||t.an_aid||k(),traits:B.getItem(it)||{}}}var ue=function(t){return"__TEMP__"+t};function ce(t,e,n){var r=e.getState("user")[t];if(r)return r;if(n&&Y(n)&&n[t])return n[t];var a=ie({})[t];return a||(ae[ue(t)]?ae[ue(t)]:null)}function se(e){var n=function(t,e,n){if(!H)return!1;var r=window[(n?"add":"remove")+"EventListener"];t.split(" ").forEach(function(t){r(t,e)})}.bind(null,"online offline",function(t){return Promise.resolve(!navigator.onLine).then(e)});return n(!0),function(t){return n(!1)}}function le(){return Array.prototype.slice.call(arguments).reduce(function(t,e){return t||(X(e)?e:t)},!1)}function fe(){var i="__"+q+"__";return ae[i]=[],function(o){return function(t,e,n){var r=o(t,e,n),a=r.dispatch;return Object.assign(r,{dispatch:function(t){var e=t.action||t;return ae[i].push(e),a(t)}})}}}function pe(t){return function(){return tt(tt.apply(null,arguments),fe())}}var de=function(t,e,n){return{type:rt.setItemStart,timestamp:qt(),key:t,value:e,options:n}},he=function(t,e){return{type:rt.removeItemStart,timestamp:qt(),key:t,options:e}},me=function(t,e){return B.getItem(t,e)};function ye(){var t,e,s,l,f,p,b,w,S,x,u,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=n.reducers||{},o=(n.plugins||[]).reduce(function(t,e){if(X(e))return t.middlewares=t.middlewares.concat(e),t;if(e.NAMESPACE&&(e.name=e.NAMESPACE),!e.name)throw new Error("https://lytics.dev/errors/1");var n=e.EVENTS?Object.keys(e.EVENTS).map(function(t){return e.EVENTS[t]}):[],r=Object.keys(e).concat(n),a=new Set(t.events.concat(r));if(t.events=Array.from(a),t.pluginsArray=t.pluginsArray.concat(e),t.plugins[e.name])throw new Error(e.name+" plugin loaded twice");return t.plugins[e.name]=e,t.plugins[e.name].loaded||(t.plugins[e.name].loaded=function(){return!0}),t},{plugins:{},pluginsArray:[],middlewares:[],events:[]}),c=o.plugins,a=o.events.filter(function(t){return!nt.includes(t)}),i=new Set(a.concat(et).filter(function(t){return!nt.includes(t)})),d=Array.from(i).sort(),h=a.sort(),m=function(){return c},y=new Rt,g=y.addMiddleware,v=y.removeMiddleware,E=y.dynamicMiddlewares,I=function(){throw new Error("Abort disabled in listener")},O=function(e,n){return function(t){n&&n(t),e(t)}},k=Z(),_=ie(k),P={identify:function(t,n,r,a){var o=W(t)?t:null,i=Y(t)?t:n,u=r||{},c=P.user(),s=(ae[ue(dt)]=o)||i.userId||ce(dt,P,i);return new Promise(function(t,e){R.dispatch(G(G({type:rt.identifyStart,userId:s,traits:i||{},options:u,anonymousId:c.anonymousId},c.id&&c.id!==o&&{previousId:c.id}),{},{meta:{timestamp:qt(),callback:O(t,le(n,r,a))}}))})},track:function(t,n,r,a){var o=Y(t)?t.event:t;if(!o||!W(o))throw new Error("Event missing");var i=Y(t)?t:n||{},u=Y(r)?r:{};return new Promise(function(t,e){R.dispatch({type:rt.trackStart,event:o,properties:i,options:u,userId:ce(dt,P,n),anonymousId:ce(ht,P,n),meta:{timestamp:qt(),callback:O(t,le(n,r,a))}})})},page:function(n,r,a){var o=Y(n)?n:{},i=Y(r)?r:{};return new Promise(function(t,e){R.dispatch({type:rt.pageStart,properties:Zt(o),options:i,userId:ce(dt,P,o),anonymousId:ce(ht,P,o),meta:{timestamp:qt(),callback:O(t,le(n,r,a))}})})},user:function(t){if(t===dt||"id"===t)return ce(dt,P);var e=P.getState("user");return t?J(e,t):e},reset:function(n){return new Promise(function(t,e){R.dispatch({type:rt.resetStart,timestamp:qt(),callback:O(t,n)})})},ready:function(t){return P.on(rt.ready,t)},on:function(n,r){if(!n||!X(r))return!1;if(n===rt.bootstrap)throw new Error(".on disabled for "+n);var a=/Start$|Start:/;if("*"===n){var t=function(t){return function(e){return function(t){return t.type.match(a)&&r({payload:t,instance:P,plugins:c}),e(t)}}},e=function(t){return function(e){return function(t){return t.type.match(a)||r({payload:t,instance:P,plugins:c}),e(t)}}};return g(t,ge),g(e,ve),function(){v(t,ge),v(e,ve)}}var o=n.match(a)?ge:ve,i=function(t){return function(e){return function(t){return t.type===n&&r({payload:t,instance:P,plugins:c,abort:I}),e(t)}}};return g(i,o),function(){return v(i,o)}},once:function(t,n){if(!t||!X(n))return!1;if(t===rt.bootstrap)throw new Error(".once disabled for "+t);var r=P.on(t,function(t){var e=t.payload;n({payload:e,instance:P,plugins:c,abort:I}),r()});return r},getState:function(t){var e=R.getState();return t?J(e,t):Object.assign({},e)},dispatch:function(t){var e,n=W(t)?{type:t}:t;if(e=n.type,et.includes(e))throw new Error("reserved action "+n.type);var r=n.meta||{},a=t._||{},o=G(G({},n),{},{meta:G({timestamp:qt()},r),_:G({originalAction:n.type},a)});R.dispatch(o)},enablePlugin:function(t,e){var n,r;R.dispatch((n=t,r=e,{type:rt.enablePlugin,name:n,callback:r,_:{originalAction:rt.enablePlugin}}))},disablePlugin:function(t,e){var n,r;R.dispatch((n=t,r=e,{type:rt.disablePlugin,name:n,callback:r,_:{originalAction:rt.disablePlugin}}))},loadPlugin:function(t){R.dispatch({type:rt.loadPlugin,plugins:t?[t]:Object.keys(m())})},storage:{getItem:me,setItem:function(t,e,n){R.dispatch(de(t,e,n))},removeItem:function(t,e){R.dispatch(he(t,e))}},setAnonymousId:function(t,e){P.storage.setItem(at,t,e)},events:{all:d,core:et,plugins:h}},j=o.middlewares.concat([E(ge),(b=P,w=m,S={all:d,plugins:h},x={},function(v){return function(g){return e=ft(lt.mark(function t(e){var n,r,a,o,i,u,c,s,l,f,p,d,h,m,y;return lt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.type,r=e.name,a=e.callback,(o=e).abort)return t.abrupt("return",g(e));t.next=4;break;case 4:if(n!==rt.disablePlugin&&n!==rt.enablePlugin||X(a)&&a(r),n===rt.loadPlugin)return i=w(),u=Object.keys(i).filter(function(t){return e.plugins.includes(t)}).reduce(function(t,e){return t[e]=i[e],t},{}),c={type:rt.initializeStart,plugins:e.plugins},t.next=11,St(c,u,b,v,S);t.next=13;break;case 11:return s=t.sent,t.abrupt("return",g(s));case 13:if(n===rt.initializeEnd&&(l=w(),f=Object.keys(l),p=f.filter(function(t){return e.plugins.includes(t)}).map(function(t){return l[t]}),d=[],h=[],m=p.map(function(e){var t=e.loaded,n=e.name;return pt(e,t,1e4).then(function(t){x[n]||(v.dispatch({type:rt.pluginReadyType(n),name:n,events:Object.keys(e).filter(function(t){return!nt.includes(t)})}),x[n]=!0),d=d.concat(n)}).catch(function(t){if(t instanceof Error)throw new Error(t);return h=h.concat(t.name),t})}),Promise.all(m).then(function(t){setTimeout(function(){f.length===m.length&&v.dispatch({type:rt.ready,plugins:d,failed:h})},0)})),n!==rt.bootstrap)return/^ready:([^:]*)$/.test(n)&&setTimeout(function(){return mt(v,w,b)},0),t.next=18,St(e,w,b,v,S);t.next=20;break;case 18:return y=t.sent,t.abrupt("return",g(y));case 20:return t.abrupt("return",g(o));case 21:case"end":return t.stop()}},t)})),function(t){return e.apply(this,arguments)};var e}}),function(t){return function(o){return function(t){var e=t.type,n=t.key,r=t.value,a=t.options;if(e===rt.setItem||e===rt.removeItem){if(t.abort)return o(t);e===rt.setItem?B.setItem(n,r,a):B.removeItem(n,a)}return o(t)}}},(p=P,function(c){return function(u){return function(t){if(t.type===rt.bootstrap){var a=t.params,e=t.user;B.getItem(at)||p.storage.setItem(at,e.anonymousId);var n=Object.keys(t.params);if(n.length){var r=a.an_uid,o=a.an_event,i=n.reduce(function(t,e){if(e.match(ut)||e.match(/^(d|g)clid/)){var n=e.replace(ut,""),r="campaign"===n?"name":n;t.campaign[r]=a[e]}return e.match(ct)&&(t.props[e.replace(ct,"")]=a[e]),e.match(st)&&(t.traits[e.replace(st,"")]=a[e]),t},{campaign:{},props:{},traits:{}});c.dispatch(G(G({type:rt.params,raw:a},i),r?{userId:r}:{})),r&&setTimeout(function(){return p.identify(r,i.traits)},0),o&&setTimeout(function(){return p.track(o,i.props)},0),Object.keys(i.campaign).length&&c.dispatch({type:rt.campaign,campaign:i.campaign})}}return u(t)}}}),(t=P,e=t.storage,s=e.setItem,l=e.removeItem,f=e.getItem,function(c){return function(u){return function(t){var e=t.userId,n=t.traits,r=t.options,a=t.callback;if(t.type===rt.reset&&([ot,it,at].forEach(function(t){return l(t)}),X(a)&&a()),t.type===rt.identify){var o=f(ot),i=f(it)||{};o&&o!==e&&c.dispatch({type:rt.userIdChanged,old:{userId:o,traits:i},new:{userId:e,traits:n},options:r}),e&&s(ot,e),n&&s(it,G(G({},i),n))}return u(t)}}}),E(ve)]),N={context:Xt,user:oe,page:Qt,track:ee,plugins:(u=m,function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Ft,t=1<arguments.length?arguments[1]:void 0,e={};if("initialize:aborted"===t.type)return n;if(/^registerPlugin:([^:]*)$/.test(t.type)){var r=t.type.split(":")[1],a=u()[r];return a&&r?(e[r]={enabled:!0,initialized:!a.initialize,loaded:Boolean(a.loaded()),config:a.config||{}},G(G({},n),e)):n}if(/^initialize:([^:]*)$/.test(t.type)){var o=t.type.split(":")[1],i=u()[o];return i&&o?(e[o]=G(G({},n[o]),{initialized:!0,loaded:Boolean(i.loaded())}),G(G({},n),e)):n}if(/^ready:([^:]*)$/.test(t.type))return e[t.name]=G(G({},n[t.name]),{loaded:!0}),G(G({},n),e);switch(t.type){case rt.disablePlugin:return Array.isArray(t.name)?e=t.name.reduce(function(t,e){return t[e]=G(G({},n[e]),{enabled:!1}),t},n):e[t.name]=G(G({},n[t.name]),{enabled:!1}),G(G({},n),e);case rt.enablePlugin:return Array.isArray(t.name)?e=t.name.reduce(function(t,e){return t[e]=G(G({},n[e]),{enabled:!0}),t},n):e[t.name]=G(G({},n[t.name]),{enabled:!0}),G(G({},n),e);default:return n}}),queue:re},A=tt,T=tt;if(H&&n.debug){var L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;L&&(A=L({trace:!0,traceLimit:25})),T=function(){return 0===arguments.length?fe():Y($(arguments[0]))?pe(arguments[0]):pe().apply(null,arguments)}}var M,z,D,V,q=(M=n,Object.keys(M).reduce(function(t,e){return"plugins"===e||"reducers"===e||(t[e]=M[e]),t},{})),C={context:q,user:_,plugins:o.pluginsArray.reduce(function(t,e){var n=e.name,r=e.config,a=e.loaded;return t[n]={enabled:!0,initialized:Boolean(!e.initialize),loaded:Boolean(a()),config:r||{}},t},{})},R=K(Q(G(G({},N),r)),C,T(A(function(){for(var t=arguments.length,c=new Array(t),e=0;e<t;e++)c[e]=arguments[e];return function(u){return function(t,e,n){var r,a=u(t,e,n),o=a.dispatch,i={getState:a.getState,dispatch:function(t){return o(t)}};return r=c.map(function(t){return t(i)}),o=tt.apply(void 0,U(r))(a.dispatch),G(G({},a),{},{dispatch:o})}}}.apply(void 0,U(j))))),F=Object.keys(c);return R.dispatch({type:rt.bootstrap,plugins:F,config:q,params:k,user:_}),R.dispatch({type:rt.registerPlugins,plugins:F}),o.pluginsArray.map(function(t,e){var n=t.bootstrap,r=t.config;n&&X(n)&&n({instance:P,config:r,payload:t});var a=o.pluginsArray.length===e+1;R.dispatch({type:rt.registerPluginType(t.name),name:t.name,plugin:t}),a&&R.dispatch({type:rt.initializeStart,plugins:F})}),se(function(t){R.dispatch({type:t?rt.offline:rt.online})}),z=R,D=m,V=P,setInterval(function(){return mt(z,D,V)},3e3),P}var ge="before",ve="after";return t.default=ye,t.init=ye,t.Analytics=ye,t.EVENTS=rt,t.CONSTANTS=D,t}({});