var PHOTOS=[{index:0,bg:"#89979A",caption:"Kangchendzonga National Park, Sikkim, India"},{index:1,bg:"#6D86B8",caption:"Half Dome from Glacier Point, Yosemite National Park, California"},{index:2,bg:"#82B0D8",caption:"Blue Lake, John Muir Wilderness, Inyo National Forest, California"},{index:3,bg:"#B36F3C",caption:"Emerald Lake, Lakes Trail, Kings Canyon National Park, California"},{index:4,bg:"#2F343B",caption:"Horsetooth Mountain, Fort Collins, Colorado"},{index:5,bg:"#B8C9CC",caption:"Dolores Park, Mission, San Francisco, California"},{index:6,bg:"#8B6151",caption:"Kaibab National Forest, Grand Canyon, Arizona"},{index:7,bg:"#6C7971",caption:"Perugia, Cambria, Italy"},{index:8,bg:"#B26542",caption:"Alghero, Sardinia, Italy"},{index:9,bg:"#5E6C3C",caption:"Rifugio Menaggio, Lake Como, Italy"},{index:10,bg:"#5575C0",caption:"Puez-Geisler National Park, South Tyrol, Italy"},{index:11,bg:"#486BA1",caption:"Peak of Monte Grona, Lake Como, Italy"},{index:12,bg:"#7082A2",caption:"Puez-Geisler National Park, South Tyrol, Italy"},{index:13,bg:"#ADB9D1",caption:"Vembanad Lake, Cochin, Kerala, India"},{index:14,bg:"#6A723E",caption:"Angel Island State Park, San Francisco Bay, California"},{index:15,bg:"#8A7C4C",caption:"Soberanes Point, Carmel, Monterey, California"},{index:16,bg:"#EC965C",caption:"West Point Lighthouse, Discovery Park, Seattle, Washington"},{index:17,bg:"#D6D3CE",caption:"Wallace Falls State Park, Snohomish County, Washington"},{index:18,bg:"#9C7E52",caption:"Laguna Creek Beach, Santa Cruz, California"},{index:19,bg:"#CBAC86",caption:"Tent Rocks National Monument, Sandoval County, New Mexico"},{index:20,bg:"#454934",caption:"Gennargentu National Park, Cala Ganone, Sardinia, Italy"},{index:21,bg:"#94ABBD",caption:"McLaren Park, San Francisco, California"},{index:22,bg:"#2F3411",caption:"Angel Island State Park, San Francisco Bay, California"},{index:23,bg:"#A73E28",caption:"Prewitt Ridge, Big Sur, California"},{index:24,bg:"#536C8B",caption:"Yosemite Falls Trail, Yosemite National Park, California"},{index:25,bg:"#808B63",caption:"Kangchendzonga National Park, Sikkim, India"},{index:26,bg:"#546420",caption:"Briones Regional Park, Lafayette, California"},{index:27,bg:"#D8DEE0",caption:"Mendocino Headlands State Park, Mendocino, California"},{index:28,bg:"#709BC3",caption:"Four Mile Trail, Yosemite National Park, California"},{index:29,bg:"#E9906E",caption:"Shilshole Bay, Ballard, Seattle, Washington"}];const thumbs=document.querySelector(".thumbnails"),modal=document.querySelector(".photo-modal");function genThumbnails(){if(""!==thumbs.innerHTML){var e=shuffleArray(Array.from(thumbs.querySelectorAll(".thumb-container")));return thumbs.innerHTML="",void e.forEach((e,a)=>{e.className="thumb-container fade-in delay-"+(a<18?2500+parseInt(100*a):0),thumbs.appendChild(e)})}(PHOTOS=shuffleArray(PHOTOS)).forEach((e,a)=>{var t=Object.assign(document.createElement("div"),{className:"thumb-container fade-in delay-"+(a<18?2500+parseInt(100*a):0),onclick:a=>openPhotoModal(e.index)});t.setAttribute("data-photo-id",e.index);var o=Object.assign(document.createElement("img"),{className:"placeholder",src:`/assets/photos/thumb/placeholder/${e.index}.svg`,style:"background-color: "+e.bg});t.appendChild(o);var n=Object.assign(document.createElement("img"),{className:"thumb",src:`/assets/photos/thumb/${e.index}.jpg`});t.appendChild(n),thumbs.appendChild(t)}),setTimeout(e=>{thumbs.querySelectorAll(".thumb-container").forEach(e=>{var a=e.querySelector(".placeholder"),t=e.querySelector(".thumb"),o=e=>{setTimeout(e=>{a.style.opacity=0,t.style.filter="blur(0px)"},1e3),setTimeout(e=>a.style.display="none",1500)};t.complete?o():t.onload=e=>o})},3500)}function openPhotoModal(e,a=!0){loadPhoto(e),animateIn(".photo-modal","slide-in-up",null,500),document.addEventListener("keydown",(function e(a){-1!==active_photo&&(39===a.keyCode&&nextPhoto(),37===a.keyCode&&prevPhoto(),27===a.keyCode&&(closePhotoModal(),document.removeEventListener("keydown",e)))})),a&&trackEvent("Photo modal opened",window.location.pathname,identifyPhoto(PHOTOS[e]),e)}function closePhotoModal(){modal.classList.remove("loaded"),animateOut(".photo-modal","slide-out-bottom",e=>{modal.querySelector(".photo-container").style.backgroundImage="",modal.querySelector(".caption").innerHTML="",startLoadingAnimation()}),history.pushState("","",window.location.pathname),trackEvent("Photo modal closed",window.location.pathname),active_photo=-1}function nextPhoto(){active_photo+1>=PHOTOS.length||!modal.querySelector(".bar:last-of-type").classList.contains("done")||(startLoadingAnimation(),loadPhoto(PHOTOS[++active_photo].index,500),trackEvent("Next Photo",window.location.pathname,identifyPhoto(PHOTOS[active_photo]),active_photo))}function prevPhoto(){active_photo<=0||!modal.querySelector(".bar:last-of-type").classList.contains("done")||(startLoadingAnimation(),loadPhoto(PHOTOS[--active_photo].index,500),trackEvent("Prev Photo",window.location.pathname,identifyPhoto(PHOTOS[active_photo]),active_photo))}function loadPhoto(e,a=0){Object.assign(document.createElement("img"),{src:`/assets/photos/${e}.jpg`,onload:t=>{setTimeout(a=>{modal.querySelector(".photo-container").style.backgroundImage=`url('/assets/photos/${e}.jpg')`,endLoadingAnimation()},a)},onerror:endLoadingAnimation}),history.pushState("","",`${window.location.pathname}?${e}`),modal.querySelector(".caption").innerHTML=formatCaptions(PHOTOS.find(a=>a.index===e).caption),active_photo=PHOTOS.findIndex(a=>a.index===e),modal.querySelector(".modal-next-btn").classList.toggle("disabled",active_photo+1>=PHOTOS.length),modal.querySelector(".modal-prev-btn").classList.toggle("disabled",active_photo<=0)}function endLoadingAnimation(){var e=modal.querySelectorAll(".bars div"),a=e.length,t=0;e.forEach((e,o)=>{e.addEventListener("animationiteration",(function n(i){(0===o||t>0)&&(i.target.classList.add("done"),t++,e.removeEventListener("animationiteration",n)),t>=a&&!modal.classList.contains("hidden","slide-in-up","slide-out-bottom")&&modal.classList.add("loaded")}))}),setTimeout(e=>{modal.classList.contains("hidden","slide-in-up","slide-out-bottom")||modal.classList.add("loaded")},2e3)}function startLoadingAnimation(){modal.classList.remove("loaded"),modal.querySelectorAll(".bars div").forEach((e,a)=>setTimeout(a=>e.classList.remove("done"),100*a))}function formatCaptions(e){var a=e.lastIndexOf(",",e.lastIndexOf(",")-1)+1;return e.substr(0,a)+"<br>"+e.substr(a)}function identifyPhoto(e){return`${e.index}.jpg - ${e.caption.substr(0,e.caption.lastIndexOf(",",e.caption.lastIndexOf(",")-1))}`}var map,currentMapLayer,currentMapLayerName,paths=[],dist=document.getElementById("distance");function initializeMap(){L.mapbox.accessToken="pk.eyJ1Ijoicm9oYW5iMTAiLCJhIjoiY2thaDZxaHFvMGRoaDJzbzBtczM3YjNneiJ9.Wza5G0LIJQ8hZjAYsFobYg",map=L.mapbox.map("map").setView([37.7906,-122.4482],12).setMaxZoom(15).setMinZoom(10).setMaxBounds([[[37.196,-121.609],[38.225,-123.036]]]),currentMapLayerName="light",currentMapLayer=L.mapbox.styleLayer(mapLayers[currentMapLayerName]),map.addLayer(currentMapLayer),checkMapLayerColor(),map.attributionControl.remove()}function updateMap(e){var a=e.getAttribute("data-ride-id");if("all"===a)return drawAll(),enableMapInteractions(),void trackEvent("Map Changed",window.location.pathname,"All");if("random"===a){var t=getRandomPathID();return drawSnake(t),void trackEvent("Map Changed",window.location.pathname,"Random",t)}void 0!==RIDES[a]&&(drawSnake(a),trackEvent("Map Changed",window.location.pathname,e.nextElementSibling?e.nextElementSibling.innerText:"Single Ride",a))}var distanceTimeout,mapLayers={light:"mapbox://styles/mapbox/light-v10",dark:"mapbox://styles/mapbox/dark-v10"};function checkMapLayerColor(){if(map&&"custom"!==currentMapLayerName){var e=isDark(document.documentElement.style.getPropertyValue("--c-3"))?"light":"dark";if(e!==currentMapLayerName){currentMapLayerName.length>1&&mapContainer.classList.remove(currentMapLayerName);var a=L.mapbox.styleLayer(mapLayers[e]);map.addLayer(a).removeLayer(currentMapLayer),mapContainer.classList.add(e),currentMapLayer=a,currentMapLayerName=e}}}function clearPaths(e=!1){map&&(paths.forEach(e=>e.remove(map)),paths=[],resetDistanceContainer(e))}function drawSnake(e){if(map){clearPaths(!0);var a=L.polyline(decodePath(RIDES[e]),{className:"path-single",color:"--var(--c-3)"});paths.push(a),document.querySelector(".distance-container").classList.remove("hidden"),map.fitBounds(a.getBounds(),{padding:[10,10],animate:!0,pan:{duration:1}}),map.once("moveend",e=>{a.addTo(map);var t=a._path.getTotalLength();Object.assign(a._path.style,{opacity:0,transitionProperty:"stroke-dashoffset",transitionDuration:"1ms",transitionTimingFunction:"linear",strokeDashoffset:t,strokeDasharray:t}),setTimeout(e=>{Object.assign(a._path.style,{opacity:.7,transitionDuration:getTransitionDuration(a)+"s",strokeDashoffset:0}),startDistanceCountUp(a),disableMapInteractions(),a._path.addEventListener("transitionend",e=>{a._path.style.strokeDasharray="unset",enableMapInteractions()},{once:!0})},150)})}}function drawAll(){clearPaths(),map.flyTo([37.7906,-122.4482],12),map.once("moveend",e=>{for(var a of Object.keys(RIDES)){var t=L.polyline(decodePath(RIDES[a]),{className:"path-all",color:"dark"===currentMapLayerName?"#FFF":"#000"});t.addTo(map),paths.push(t)}})}function drawRandom(e){e.classList.add("spin"),e.addEventListener("animationend",a=>e.classList.remove("spin"),{once:!0});var a=getRandomPathID();trackEvent("Map Changed",window.location.pathname,"Random",a),drawSnake(a)}function getRandomPathID(){if(map){for(var e,a=0,t=Math.random()<.75?1e4:Math.random()<.67?7500:5e3,o=Array.from(document.querySelectorAll('.control input[type="radio"]')).map(e=>e.getAttribute("data-ride-id")),n=shuffleArray(Object.keys(RIDES)).filter(e=>!o.includes(e));a<t;)e=n[n.length*Math.random()<<0],a=calcDistance(L.polyline(decodePath(RIDES[e])));return e}}function calcDistance(e){if(map){var a=e._latlngs[0],t=0;return e._latlngs.forEach(e=>{t+=a.distanceTo(e),a=e}),parseInt(t)}}function getTransitionDuration(e){var a=calcDistance(e)/2e3;return a<=10?10:a}function resetDistanceContainer(e){document.querySelector(".distance-container").classList.add("hidden"),clearTimeout(distanceTimeout),setTimeout(e=>dist.innerText="0.0",e?0:305)}function startDistanceCountUp(e){var a=calcDistance(e);updateDistance(0,a/getTransitionDuration(e)*.05/1e3,a/1e3)}function updateDistance(e,a,t){e+=a,dist.innerText=e.toFixed(1),e<t&&(distanceTimeout=setTimeout(o=>updateDistance(e,a,t),49))}function disableMapInteractions(){map&&(mapContainer.classList.add("waiting"),map.dragging.disable(),map.touchZoom.disable(),map.doubleClickZoom.disable(),map.scrollWheelZoom.disable(),map.keyboard.disable(),map.tap&&map.tap.disable())}function enableMapInteractions(){map&&(mapContainer.classList.remove("waiting"),map.dragging.enable(),map.touchZoom.enable(),map.doubleClickZoom.enable(),map.scrollWheelZoom.enable(),map.keyboard.enable(),map.tap&&map.tap.enable())}function changeMapLayer(e){nextMapLayer=L.mapbox.styleLayer(e),currentMapLayerName="custom",map.addLayer(nextMapLayer).removeLayer(currentMapLayer),currentMapLayer=nextMapLayer}function decodePath(e){for(var a,t=0,o=0,n=0,i=[],r=0,s=0,c=null;t<e.length;){c=null,r=0,s=0;do{s|=(31&(c=e.charCodeAt(t++)-63))<<r,r+=5}while(c>=32);a=1&s?~(s>>1):s>>1,r=s=0;do{s|=(31&(c=e.charCodeAt(t++)-63))<<r,r+=5}while(c>=32);o+=a,n+=1&s?~(s>>1):s>>1,i.push([o/1e5,n/1e5])}return i}const COLOUR_SCHEMES=[["rgb( 76,187,185)","rgb(255,190,105)","rgb(152,214,234)","rgb(255, 99, 99)","rgb(133,102,170)"],["rgb(239,194,184)","rgb(149,187,217)","rgb(188,220,150)","rgb(238,222,151)","rgb(214,217,253)"],["rgb(240, 92,136)","rgb(111,125,246)","rgb(119,203,249)","rgb(255,168,  5)","rgb( 66,199,153)"],["rgb(  6,140,175)","rgb( 17,183,158)","rgb(233,178,188)","rgb(219,188,118)","rgb(146,129,161)"],["rgb(254,138,138)","rgb(127,102,152)","rgb(250,210,109)","rgb(127,182,161)","rgb(139,197,217)"],["rgb(145, 48, 48)","rgb( 39, 90,119)","rgb( 36,107, 80)","rgb(194,129, 71)","rgb(112, 72,111)"]];function changeColours(e){var a=document.documentElement,t="New Colours: ";return e.forEach((e,o)=>{e=`rgb(${+`0x${e[1]}${e[2]}`},${+`0x${e[3]}${e[4]}`},${+`0x${e[5]}${e[6]}`})`,a.style.setProperty("--c-"+o,e),t+=e+", "}),currentScheme=-1,t}function rgbArray(e){return e=e.substr(4).split(")")[0].split(","),[parseInt(e[0]),parseInt(e[1]),parseInt(e[2])]}function transitionColourScheme(e,a=!0,t){if(e<0||e>=COLOUR_SCHEMES.length)return"Please enter a valid index";var o=[],n=[],i=[],r=0,s=COLOUR_SCHEMES[e];a&&(s=shuffleArray(s));var c=document.documentElement.style;s.forEach((e,a)=>{o.push(rgbArray(e)),n.push(rgbArray(c.getPropertyValue("--c-"+a)))}),n.forEach((e,a)=>{i[a]=setInterval(n=>{e.forEach((t,n)=>e[n]=t>o[a][n]?t-1:t<o[a][n]?t+1:t),c.setProperty("--c-"+a,`rgb(${e[0]},${e[1]},${e[2]})`),e[0]===o[a][0]&&e[1]===o[a][1]&&e[2]===o[a][2]&&(clearInterval(i[a]),setDarkClassForSections(s),++r>=o.length&&t&&t())},1)})}function changeColourScheme(e,a=!0,t){if(e<0||e>=COLOUR_SCHEMES.length)return"Please enter a valid index";var o=COLOUR_SCHEMES[e||currentScheme];a&&(o=shuffleArray(o));var n=document.documentElement;o.forEach((e,a)=>n.style.setProperty("--c-"+a,e)),setDarkClassForSections(o),t&&t()}function setDarkClassForSections(e){document.querySelectorAll(".section").forEach((a,t)=>a.classList.toggle("is-dark",isDark(e[t])))}function nextColourSchemeID(){return currentScheme+1<COLOUR_SCHEMES.length?currentScheme+1:0}function isDark(e){var a=rgbArray(e);return(299*a[0]+587*a[1]+114*a[2])/1e3<142}function bucket(e){if(!e.parentElement.classList.contains("changing")){var a=nextColourSchemeID();e.parentElement.classList.add("changing");var t=a=>{checkMapLayerColor(),setTimeout(a=>{e.parentElement.classList.remove("changing"),changeBucketColours(nextColourSchemeID())},1200)};if(null!==active_section)transitionColourScheme(a,!0,e=>{ripple(),t()});else{var o=navbar.querySelector(".section-title.wave");killWave(),setTimeout(e=>{changeColourScheme(a,!0,e=>{startWave(1),t()})},o?450:0)}trackEvent("Spill","bucket","Colours changed",currentScheme=a)}}function changeBucketColours(e){var a=document.querySelector(".bucket");COLOUR_SCHEMES[e].forEach((e,t)=>a.style.setProperty("--nc-"+t,e))}var currentScheme=0;changeColourScheme(currentScheme),changeBucketColours(nextColourSchemeID());var navbar,navbarSections,names,mapContainer,active_section=null,active_work="",active_photo=-1;if(window.location.search.length>1){document.body.classList.add("no-touching");var param="",sectionName=window.location.search.substr(1);sectionName.indexOf(",")>-1&&(param=sectionName.split(",")[1],sectionName=sectionName.split(",")[0]),document.querySelector(`#id-${sectionName} .text`).addEventListener("animationend",e=>{""!==param&&"work"===sectionName&&document.getElementById(param)?workPicker(param):""!==param&&"photos"===sectionName&&0<=parseInt(param)&&parseInt(param)<PHOTOS.length&&(console.log(param),openPhotoModal(parseInt(param),!1)),document.body.classList.remove("no-touching")},{once:!0}),setTimeout(e=>trackEvent(`Navigating directly to section: /${sectionName}${""!==param?"?"+param:""}`,window.location.pathname),999),history.pushState(null,null,"/"),setTimeout(e=>navControl(sectionName),1e3)}window.addEventListener("popstate",e=>{navbarSections.forEach(e=>e.classList.remove("active")),hideAllSections(),trackEvent("Back button clicked",window.location.pathname,"Home")});var wave,swell,tide,crests=[],troughs=[];function ripple(e=0){clearTimeout(swell),swell=setTimeout((function(){navbarSections.forEach((e,a,t)=>{crests[a]=setTimeout(rippleUp,150*a,e,names[a]),troughs[a]=setTimeout(rippleDown,150*t.length+200*a,e,names[a])})}),e)}function rippleUp(e,a){e.classList.add("wave"),a&&a.classList.add("wave")}function rippleDown(e,a){e.classList.remove("wave"),a&&a.classList.remove("wave")}function startWave(e=0){e>0&&ripple(e),clearInterval(wave),clearTimeout(tide),tide=setTimeout(e=>wave=setInterval(ripple,4e3),e)}function killWave(e){clearTimeout(tide),clearTimeout(swell),clearInterval(wave),navbarSections.forEach((a,t)=>{clearTimeout(crests[t]),t===e?clearTimeout(troughs[t]):rippleDown(a,names[t])})}function highTide(){killWave(),navbarSections.forEach((e,a,t)=>setTimeout(rippleUp,150*a,e,names[a]))}function navControl(e){if(0!==e.length){var a=navbar.querySelector(`span[data-section-name="${e}"]`);if(a&&a.parentElement){var t=a.parentElement,o="id-"+e;killWave(),navbar.classList.remove("active"),navbarSections.forEach(e=>e.classList.remove("active")),o===active_section?(hideAllSections(),trackEvent("Section Closed","navbar","Home")):(showSection(o),navbar.setAttribute("data-bg-color",t.getAttribute("data-bg-color")),navbar.setAttribute("data-open","true"),navbar.classList.add("active"),t.classList.add("active"),document.getElementById("section-container").classList.add("active"),history.pushState(null,null,"/"+e),trackEvent("Section Changed","navbar",e))}}}var skills,skillCycle,currentHover,pedal,debounced,mapFilesLoadedCount=0;function showSection(e){switch(e){case"id-work":if(document.querySelectorAll(".card .logo img, .badges img").forEach(e=>e.src=e.getAttribute("data-src")),""===active_work)break;document.querySelector(".work.active").classList.remove("active"),document.getElementById(active_work).classList.add("hidden"),active_work="";break;case"id-skills":loadSkills();break;case"id-photos":-1!==active_photo&&(active_photo=-1,closePhotoModal(!1)),genThumbnails();break;case"id-maps":mapContainer.classList.remove("fade-in"),mapFilesLoadedCount=0,loadFile("rides","js"),loadFile("mapbox","js","https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.js"),loadFile("mapbox","css","https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.css"),setTimeout(e=>{var a=setInterval(e=>{mapFilesLoadedCount>=3&&(void 0===map&&initializeMap(),mapContainer.classList.add("fade-in"),clearTimeout(a))},250)},1500);break;case"id-about":document.getElementById("me-jpg").src="assets/me.jpg",document.getElementById("me-gif").src="assets/me.gif"}null===active_section?(toggleHero(),setTimeout(a=>document.getElementById(e).classList.remove("hidden"),1e3)):(window.scroll({top:0,left:0,behavior:"smooth"}),animateOut("#"+active_section,"fade-out-bottom",a=>document.getElementById(e).classList.remove("hidden"))),active_section=e}function toggleHero(){var e=document.getElementById("hero");e.style.height="0px"===e.style.height?"calc(var(--vh, 1vh) * 60)":"0px"}function loadFile(e,a,t){if(document.querySelectorAll(`.${a}-${e}`).length>0)mapFilesLoadedCount++;else{var o=Object.assign(document.createElement("js"===a?"script":"link"),{..."js"===a&&void 0===t?{src:`js/${e}.js`}:{},..."js"===a&&void 0!==t?{src:t}:{},..."css"===a?{rel:"stylesheet"}:{},..."css"===a&&void 0===t?{href:`css/${e}.css`}:{},..."css"===a&&void 0!==t?{href:t}:{},className:`${a}-${e}`});o.onload=e=>mapFilesLoadedCount++,"js"===a&&document.body.appendChild(o),"css"===a&&document.head.appendChild(o)}}function hideAllSections(){navbar.setAttribute("data-open","false"),navbar.classList.remove("active"),document.getElementById("section-container").classList.remove("active"),toggleHero(),killWave(),startWave(1500),history.pushState(null,null,"/"),animateOut("#"+active_section,"fade-out-bottom"),active_section=null}function workPicker(e){if("string"==typeof e&&0!==e.length){var a=document.querySelector(`.work[data-work-name="${e}"]`);if(a&&active_work!==e){var t=document.getElementById(e);""===active_work?t.classList.remove("hidden"):(document.querySelector(".work.active").classList.remove("active"),animateOut("#"+active_work,"fade-out-right",e=>t.classList.remove("hidden"))),a.classList.add("active"),active_work=e,document.querySelectorAll(".arrow span").forEach(e=>{e.classList.add("fade-down-twice"),e.addEventListener("animationend",a=>e.classList.remove("fade-down-twice"),{once:!0})}),history.pushState("","",`${window.location.pathname}?${e}`),trackEvent("Work Clicked",window.location.pathname,e)}}}function loadSkills(){(skills=document.querySelectorAll(".skill")).forEach(e=>{var a=e.firstElementChild;a.src=`/assets/skills/${a.getAttribute("data-src").toLowerCase()}.png`,e.onmouseover=e=>killSkillCycle(),e.onmouseout=e=>startSkillCycle(1500),e.prepend(document.createElement("div"))}),currentHover=0,startSkillCycle(3500)}function killSkillCycle(){clearInterval(skillCycle),clearTimeout(pedal);var e=document.querySelector(".skill.hovered");e&&e.classList.remove("hovered")}function startSkillCycle(e=0){killSkillCycle(),pedal=setTimeout(e=>{skillCycle=setInterval(e=>{var a=document.querySelector(".skill.hovered");a&&a.classList.remove("hovered"),skills[currentHover].classList.add("hovered"),++currentHover>=skills.length&&(currentHover=0)},1500)},e)}function darkMode(){document.documentElement.classList.toggle("dark-mode")}function trackEvent(e="click",a="Not Specified",t,o){galite("send","event",a,e,t,o)}function animateOut(e,a,t,o=500){var n=document.querySelector(e);n.classList.add(a),setTimeout(e=>{n.classList.remove(a),n.classList.add("hidden"),t&&t()},o,n,a,t)}function animateIn(e,a,t,o=500){var n=document.querySelector(e);n.classList.remove("hidden"),n.classList.add(a),setTimeout(e=>n.classList.remove(a),o,n),t&&t()}function shuffleArray(e){return e.map(e=>[Math.random(),e]).sort((e,a)=>e[0]-a[0]).map(e=>e[1])}function mobileViewportHack(){document.documentElement.style.setProperty("--vh",.01*window.innerHeight+"px")}var window_height=window.innerHeight;window.addEventListener("resize",e=>{window.innerHeight!==window_height&&(clearTimeout(debounced),debounced=setTimeout(mobileViewportHack,100))}),mobileViewportHack(),window.addEventListener("orientationchange",mobileViewportHack),document.querySelectorAll("a").forEach(e=>{e.addEventListener("click",a=>{trackEvent("url clicked",window.location.pathname,e.getAttribute("data-name")?e.getAttribute("data-name"):e.hostname)})}),document.addEventListener("DOMContentLoaded",e=>{window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&darkMode(),navbar=document.getElementById("navigation"),navbarSections=navbar.querySelectorAll(".section-title"),names=document.querySelectorAll("#hero span span"),mapContainer=document.querySelector(".map-container"),navbarSections.forEach((e,a)=>{e.addEventListener("mouseover",e=>{killWave(a),null===active_section&&names[a].classList.add("wave")}),e.addEventListener("mousemove",e=>{null===active_section&&names[a].classList.add("wave")}),e.addEventListener("mouseout",e=>{killWave(),null===active_section&&startWave(1500)})}),startWave(1e3)},{once:!0});